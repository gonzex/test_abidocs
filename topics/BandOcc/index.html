<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="The Abinit group">
    <link rel="canonical" href="http://www.abinit.org/topics/BandOcc/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>BandOcc - abinit</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../css/codehilite.css" rel="stylesheet">
    <link href="../../css/extra.css" rel="stylesheet">
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <!-- <script src="../../js/somelib.js"></script> -->

    <!-- Jquery from Google CDN 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    -->

    <!-- Bootstrap http://getbootstrap.com/getting-started/ -->
    <!-- Latest compiled and minified CSS 

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    -->
    <!-- Optional theme

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    -->
    <!-- Latest compiled and minified JavaScript

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    -->

    <!-- MathJax support -->
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script> 
    <!--
    <script type="text/javascript" async 
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_SVG">
    </script> 
    -->

    <!--
    Configure MathJax to produce automatic equation numbers
    http://docs.mathjax.org/en/latest/tex.html
    -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          TeX: {
              equationNumbers: { autoNumber: "all" },
              extensions: ["AMSmath.js"],
              Macros: {
                  rr: "{\\bf r}",
                  GG: "{\\bf G}",
                  kk: "{\\bf k}",
                  qq: "{\\bf q}"
              }
          }
      });
    </script>

    <!-- See http://docs.mathjax.org/en/latest/start.html 
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        extensions: ["tex2jax.js", "MathMenu.js", "MathZoom.js"],
        jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>
    -->


    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Introduction", url: "#introduction", children: [
          ]},
          {title: "Related Input Variables", url: "#related-input-variables", children: [
          ]},
          {title: "Selected Input Files", url: "#selected-input-files", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.8/ace.js"></script>
      <script src="../../extra_javascript/abidocs.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../Berry/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../Berry/" class="btn btn-xs btn-link">
        Berry
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../Bader/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../Bader/" class="btn btn-xs btn-link">
        Bader
      </a>
    </div>
    
  </div>

    

    <h2 id="introduction"><strong> Introduction </strong><a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Metallic as well as insulating systems can be treated, depending on the value
of <a class="wikilink" href="../../input_variables/basic/#occopt">occopt</a>. The default value of <a class="wikilink" href="../../input_variables/basic/#occopt">occopt</a> corresponds to an insulator (or
finite molecule): the number of bands (or states for a molecule) is deduced
from the number of electrons brought by each pseudopotential ion, and then all
the bands are occupied (by two electrons in case of a non-spin-polarized
system, or by 1 electron in the cas of a spin-polarized system), and a small
number of empty bands are added, e.g. to obtain the band gap.</p>
<p>For a metallic system, use a value of <a class="wikilink" href="../../input_variables/basic/#occopt">occopt</a> between 3 and 7. ABINIT will
compute a default number of bands, including some nearly unoccupied ones, and
find the occupation numbers. The different values of <a class="wikilink" href="../../input_variables/basic/#occopt">occopt</a> correspond to
different smearing schemes (smearning defined by <a class="wikilink" href="../../input_variables/gstate/#tsmear">tsmear</a> for defining the
occupation numbers, e.g. Fermi broadening, the Gaussian broadening, the
Gaussian-Hermite broadening, as well as the modifications proposed by Marzari.
Finite temperatures can also be treated thanks to a smearing scheme
(Verstraete scheme) using <a class="wikilink" href="../../input_variables/gstate/#tphysel">tphysel</a>.</p>
<p>It is possible to define manually the number of bands (input variable
<a class="wikilink" href="../../input_variables/basic/#nband">nband</a>) as well as the occupation numbers (input variable <a class="wikilink" href="../../input_variables/gstate/#occ">occ</a>). This
might be useful to perform a Î”-SCF calculation for excited states.</p>
<h2 id="related-input-variables"><strong> Related Input Variables </strong><a class="headerlink" href="#related-input-variables" title="Permanent link">&para;</a></h2>
<p><em>basic:</em></p>
<ul>
<li><a class="wikilink" href="../../input_variables/basic/#nband">nband</a>  Number of BANDs</li>
<li><a class="wikilink" href="../../input_variables/gstate/#occ">occ</a>  OCCupation numbers</li>
<li><a class="wikilink" href="../../input_variables/basic/#occopt">occopt</a>  OCCupation OPTion</li>
<li><a class="wikilink" href="../../input_variables/gstate/#tsmear">tsmear</a>  Temperature of SMEARing</li>
</ul>
<p><em>internal:</em></p>
<ul>
<li><a class="wikilink" href="../../input_variables/internal/#mband">mband</a>  Maximum number of BANDs</li>
<li><a class="wikilink" href="../../input_variables/internal/#nelect">nelect</a>  Number of ELECTrons</li>
</ul>
<p><em>useful:</em></p>
<ul>
<li><a class="wikilink" href="../../input_variables/gstate/#fband">fband</a>  Factor for the number of BANDs</li>
<li><a class="wikilink" href="../../input_variables/gstate/#nbdbuf">nbdbuf</a>  Number of BanDs for the BUFfer</li>
<li><a class="wikilink" href="../../input_variables/gstate/#tphysel">tphysel</a>  Temperature (PHYSical) of the ELectrons</li>
</ul>
<h2 id="selected-input-files"><strong> Selected Input Files </strong><a class="headerlink" href="#selected-input-files" title="Permanent link">&para;</a></h2>
<p><em>v1:</em></p>
<ul>
<li><a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v1/Input/t02.in" title="Bulk Aluminium,  FCC,  with 2 special points,  occopt=5 and tsmear=0.05. Designed to test the treatment of metals,  using the &quot;cold smearing&quot; of N. Marzari,  with a=-.8165 (monotonic function in the tail).">tests/v1/Input/t02.in</a></li>
<li><a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v1/Input/t04.in" title="Bulk Aluminium,  FCC,  with 2 special points,  occopt=7 and tsmear=0.05. Designed to test the treatment of metals,  with the Gaussian smearing">tests/v1/Input/t04.in</a></li>
</ul>
<p><em>v2:</em></p>
<ul>
<li><a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v2/Input/t45.in" title="Aluminum in FCC structure. For occopt=4, 5, 6, 7,  determination of the total energy at slightly different tsmear values,  and check of the dE/d(tsmear)=-kT.entropy relationship. For example,  for occopt=4,  the difference between tsmear=0.101 and tsmear=0.099 is -11.149450d-6 Ha,  while the value of -kT.entropy is -5.574709d-4Ha,  that is about 500 larger,  as expected.">tests/v2/Input/t45.in</a></li>
<li><a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v2/Input/t46.in" title="Aluminum in FCC structure. At fixed tsmear (=0.04),  check the convergence with respect to the number of k points,  for different occopt. The grids that are tested have respectively 10,  28,  and 60 k points in the IZB (ngkpt values are 4 4 4 4,  6 6 6 4 and 8 8 8 4 For occopt=4,  the total energy (or the enthalpy) is -2.079770 Ha,  -2.080534 Ha,  -2.080672 Ha; for occopt=5,  it is -2.079787 Ha,  -2.080563 Ha,  -2.080693 Ha; for occopt=7,  it is -2.084211 Ha,  -2.084861 Ha,  -2.084916 Ha. The latter values can be corrected by computing the mean of the total energy and the internal energy,  as described in Marzari's thesis,  for example. Thanks to this procedure,  one gets : -2.079732 Ha,  -2.080470 Ha,  and -2.080626 Ha. For information,  with a 12 12 12 4 grid (182 k points) and occopt=4,  one gets -2.080648 Ha.">tests/v2/Input/t46.in</a></li>
</ul>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../Berry/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../Berry/" class="btn btn-xs btn-link">
        Berry
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../Bader/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../Bader/" class="btn btn-xs btn-link">
        Bader
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
<hr>

    <center>Abinit version 8.5.4</center>


<center>Copyright &copy; 2017 The Abinit Group (FJ)</center>


<center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
</footer>

</body>
</html>