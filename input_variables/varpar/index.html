
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Abinit documentation">
      
      
        <link rel="canonical" href="http://www.abinit.org/input_variables/varpar/">
      
      
        <meta name="author" content="The Abinit group">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>Parallelism - abinit</title>
      
    
    
    
      <script src="../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    <!-- <script src="../../js/somelib.js"></script> -->

    <!-- Jquery from Google CDN 
    -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


    <!-- Bootstrap http://getbootstrap.com/getting-started/ -->
    <!-- Latest compiled and minified CSS 
    -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme
    -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript
    -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- MathJax support -->
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <!--
    Configure MathJax to produce automatic equation numbers
    http://docs.mathjax.org/en/latest/tex.html
    -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          TeX: {
              equationNumbers: { autoNumber: "all" },
              extensions: ["AMSmath.js"],
              Macros: {
                  rr: "{\\bf r}",
                  GG: "{\\bf G}",
                  kk: "{\\bf k}",
                  qq: "{\\bf q}"
              }
          }
      });
    </script>

    <!-- See http://docs.mathjax.org/en/latest/start.html 
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        extensions: ["tex2jax.js", "MathMenu.js", "MathZoom.js"],
        jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>
    -->


    
      <link rel="stylesheet" href="../../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../css/codehilite.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="http://www.abinit.org" title="abinit" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Input Variables
                </span>
              
                <span class="md-header-nav__parent">
                  Abinit
                </span>
              
            
            Parallelism
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." title="Quick Start" class="md-tabs__link">
          Quick Start
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../user-guide/help_what_ABINIT_does/" title="User Guide" class="md-tabs__link">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../varlist_abinit/" title="Input Variables" class="md-tabs__link md-tabs__link--active">
          Input Variables
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../tutorials/welcome/" title="Tutorials" class="md-tabs__link">
          Tutorials
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../theory/theory_mbt/" title="Theory" class="md-tabs__link">
          Theory
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../about/release-notes/" title="About" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    abinit
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Quick Start
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Quick Start
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-3" type="checkbox" id="nav-1-3">
    
    <label class="md-nav__link" for="nav-1-3">
      Topics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-3">
        Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/crystal/" title="Crystalline Structure" class="md-nav__link">
      Crystalline Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/kpoints/" title="K-points" class="md-nav__link">
      K-points
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_what_ABINIT_does/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_abinit/" title="Abinit" class="md-nav__link">
      Abinit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_mrgddb/" title="Mrgddb" class="md-nav__link">
      Mrgddb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_optic/" title="Optic" class="md-nav__link">
      Optic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Input Variables
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Input Variables
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      Abinit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Abinit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../varlist_abinit/" title="All Variables" class="md-nav__link">
      All Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varbas/" title="Basic" class="md-nav__link">
      Basic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varbse/" title="Bethe-Salpeter" class="md-nav__link">
      Bethe-Salpeter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vardev/" title="Developers" class="md-nav__link">
      Developers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vardmft/" title="DMFT" class="md-nav__link">
      DMFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vareph/" title="Electron-Phonon" class="md-nav__link">
      Electron-Phonon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varff/" title="Varff" class="md-nav__link">
      Varff
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varfil/" title="File-handling" class="md-nav__link">
      File-handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vargeo/" title="Geometry" class="md-nav__link">
      Geometry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vargs/" title="Ground-State" class="md-nav__link">
      Ground-State
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vargw/" title="GW" class="md-nav__link">
      GW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varint/" title="Internal" class="md-nav__link">
      Internal
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Parallelism
      </label>
    
    <a href="./" title="Parallelism" class="md-nav__link md-nav__link--active">
      Parallelism
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autoparal" title="autoparal" class="md-nav__link">
    autoparal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandpp" title="bandpp" class="md-nav__link">
    bandpp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_devices" title="gpu_devices" class="md-nav__link">
    gpu_devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_linalg_limit" title="gpu_linalg_limit" class="md-nav__link">
    gpu_linalg_limit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gwpara" title="gwpara" class="md-nav__link">
    gwpara
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localrdwf" title="localrdwf" class="md-nav__link">
    localrdwf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#max_ncpus" title="max_ncpus" class="md-nav__link">
    max_ncpus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_slk" title="np_slk" class="md-nav__link">
    np_slk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npband" title="npband" class="md-nav__link">
    npband
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npfft" title="npfft" class="md-nav__link">
    npfft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nphf" title="nphf" class="md-nav__link">
    nphf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npimage" title="npimage" class="md-nav__link">
    npimage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npkpt" title="npkpt" class="md-nav__link">
    npkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nppert" title="nppert" class="md-nav__link">
    nppert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npspinor" title="npspinor" class="md-nav__link">
    npspinor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_atom" title="paral_atom" class="md-nav__link">
    paral_atom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_kgb" title="paral_kgb" class="md-nav__link">
    paral_kgb
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_rf" title="paral_rf" class="md-nav__link">
    paral_rf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pw_unbal_thresh" title="pw_unbal_thresh" class="md-nav__link">
    pw_unbal_thresh
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_gpu_cuda" title="use_gpu_cuda" class="md-nav__link">
    use_gpu_cuda
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_slk" title="use_slk" class="md-nav__link">
    use_slk
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varpaw/" title="PAW" class="md-nav__link">
      PAW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varrf/" title="RF" class="md-nav__link">
      RF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varrlx/" title="Relaxation" class="md-nav__link">
      Relaxation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varvdw/" title="VdW" class="md-nav__link">
      VdW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varw90/" title="Wannier90" class="md-nav__link">
      Wannier90
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/welcome/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Base Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Base Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base1/" title="Base1" class="md-nav__link">
      Base1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base2/" title="Base2" class="md-nav__link">
      Base2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base3/" title="Base3" class="md-nav__link">
      Base3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base4/" title="Base4" class="md-nav__link">
      Base4
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      DFPT
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        DFPT
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/rf1/" title="RF1" class="md-nav__link">
      RF1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/rf2/" title="RF2" class="md-nav__link">
      RF2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/elastic/" title="Elastic" class="md-nav__link">
      Elastic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/eph/" title="EPH" class="md-nav__link">
      EPH
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/dmft/" title="DMFT" class="md-nav__link">
      DMFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Many-Body
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Many-Body
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/gw1/" title="GW1" class="md-nav__link">
      GW1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/gw2/" title="GW2" class="md-nav__link">
      GW2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/bse/" title="Bethe-Salpeter" class="md-nav__link">
      Bethe-Salpeter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6">
    
    <label class="md-nav__link" for="nav-4-6">
      Parallelism
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Parallelism
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/basepar/" title="Base" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/paral_mbt/" title="Many-Body" class="md-nav__link">
      Many-Body
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Theory
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Theory
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../theory/theory_mbt/" title="MBPT" class="md-nav__link">
      MBPT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../theory/additional_material/" title="Additional Material" class="md-nav__link">
      Additional Material
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bibliography/" title="Bibliography" class="md-nav__link">
      Bibliography
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autoparal" title="autoparal" class="md-nav__link">
    autoparal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandpp" title="bandpp" class="md-nav__link">
    bandpp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_devices" title="gpu_devices" class="md-nav__link">
    gpu_devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_linalg_limit" title="gpu_linalg_limit" class="md-nav__link">
    gpu_linalg_limit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gwpara" title="gwpara" class="md-nav__link">
    gwpara
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localrdwf" title="localrdwf" class="md-nav__link">
    localrdwf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#max_ncpus" title="max_ncpus" class="md-nav__link">
    max_ncpus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_slk" title="np_slk" class="md-nav__link">
    np_slk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npband" title="npband" class="md-nav__link">
    npband
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npfft" title="npfft" class="md-nav__link">
    npfft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nphf" title="nphf" class="md-nav__link">
    nphf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npimage" title="npimage" class="md-nav__link">
    npimage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npkpt" title="npkpt" class="md-nav__link">
    npkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nppert" title="nppert" class="md-nav__link">
    nppert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npspinor" title="npspinor" class="md-nav__link">
    npspinor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_atom" title="paral_atom" class="md-nav__link">
    paral_atom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_kgb" title="paral_kgb" class="md-nav__link">
    paral_kgb
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_rf" title="paral_rf" class="md-nav__link">
    paral_rf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pw_unbal_thresh" title="pw_unbal_thresh" class="md-nav__link">
    pw_unbal_thresh
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_gpu_cuda" title="use_gpu_cuda" class="md-nav__link">
    use_gpu_cuda
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_slk" title="use_slk" class="md-nav__link">
    use_slk
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/abinit/abinit/edit/master/docs/input_variables/varpar.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                  <h1>Parallelism</h1>
                
                <h2 id="autoparal"><strong>autoparal</strong><a class="headerlink" href="#autoparal" title="Permanent link">&para;</a></h2>
<p>Mnemonics: AUTOmatisation of the PARALlelism<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 0  </p>
<p>This input variable is used only when running ABINIT in parallel and for
Ground-State calculations.<br />
It controls the automatic determination of parameters related to parallel work
distribution (if not imposed in input file). Given a total number of
processors, ABINIT can find a suitable distribution that fill (when possible)
all the different levels of parallelization. ABINIT can also determine optimal
parameters for the use of parallel Linear Algebra routines (using Scalapack or
Cuda, at present).<br />
The different values for <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> are:</p>
<ul>
<li><strong> 0: </strong> The <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> feature is deactivated. For ground-state and response function calculations, ABINIT can only activate automatically the parallelism over spins and k-points. </li>
<li>
<p><strong> 1: </strong> The number of processors per parallelization level is determined by mean of a simple (but relatively efficient) heuristic. A scaling factor is attributed to each level and an simple speedup factor is computed. The selected parameters are those giving the best speedup factor. <br />
Possibly concerned parameters: <a class="wikilink" href="../../input_variables/varpar/#npimage">npimage</a>, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>,
<a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a>.</p>
</li>
<li>
<p><strong> 2: </strong> The number of processors per parallelization level is first determined by mean of a simple (but relatively efficient) heuristic (see 1 above). Then the code performs a series of small benchmarks using the scheme applied for the LOBPCG algorithm (see: <a class="wikilink" href="../../input_variables/vardev/#wfoptalg">wfoptalg</a>=4 or 14). The parallel distribution is then changed according to the benchmarks. <br />
Possibly concerned parameters: <a class="wikilink" href="../../input_variables/varpar/#npimage">npimage</a>, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>,
<a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a>.</p>
</li>
<li>
<p><strong> 3: </strong> Same as <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a>=1, plus automatic determination of Linear Algebra routines parameters. <br />
In addition, the code performs a series of small benchmarks using the Linear
Algebra routines (ScaLapack or Cuda-GPU). The parameters used to optimize
Linear Algebra work distribution are then changed according to the benchmarks.<br />
Possibly concerned parameters (in addition to those modified for
<a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a>=1): <a class="wikilink" href="../../input_variables/varpar/#use_slk">use_slk</a>, <a class="wikilink" href="../../input_variables/varpar/#np_slk">np_slk</a>, <a class="wikilink" href="../../input_variables/varpar/#gpu_linalg_limit">gpu_linalg_limit</a></p>
</li>
<li>
<p><strong> 4: </strong> combination of <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a>=2 and <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a>=3. </p>
</li>
</ul>
<p>Note that <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a>=1 can be used on every set of processors;
<a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> &gt; 1 should be used on a sufficiently large number of MPI
process.<br />
Also note that <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> can be used simultaneously with <a class="wikilink" href="../../input_variables/varpar/#max_ncpus">max_ncpus</a>; in
this case, ABINIT performs an optimization of process distribution for each
total number of processors from 2 to <a class="wikilink" href="../../input_variables/varpar/#max_ncpus">max_ncpus</a>. A weight is associated to
each distribution and the higher this weight is the better the distribution
is. After having printed out the weights, the code stops.</p>
<h2 id="bandpp"><strong>bandpp</strong><a class="headerlink" href="#bandpp" title="Permanent link">&para;</a></h2>
<p>Mnemonics: BAND Per Processor<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>==1  </p>
<p>Control the size of the block in the LOBPCG algorithm. This keyword works only
with <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>=1 and has to be either 1 or a multiple of 2.  </p>
<p>-- With <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>=1:</p>
<ul>
<li>1 =&gt; band-per-band algorithm </li>
<li>n =&gt; The minimization is performed using <a class="wikilink" href="../../input_variables/varbas/#nband">nband</a>/n blocks of n bands. </li>
</ul>
<p>Note: <a class="wikilink" href="../../input_variables/varbas/#nband">nband</a>/n has to be an integer.  </p>
<p>-- With <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>/=1:</p>
<ul>
<li>1 =&gt; The minimization is performed using <a class="wikilink" href="../../input_variables/varbas/#nband">nband</a>/<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> blocks of <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> bands. </li>
<li>n =&gt; The minimization is performed using <a class="wikilink" href="../../input_variables/varbas/#nband">nband</a>/(<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a><em>n) blocks of <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a></em>n bands. </li>
</ul>
<p>Note: <a class="wikilink" href="../../input_variables/varbas/#nband">nband</a>/(<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>*n) has to be an integer.  </p>
<p>By minimizing a larger number of bands together in LOBPCG, we increase the
convergency of the residual. The better minimization procedure (as concerns
the convergency, but not as concerns the speed) is generally performed by
using <a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a>*<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>=<a class="wikilink" href="../../input_variables/varbas/#nband">nband</a>. Put <a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a>=2 when <a class="wikilink" href="../../input_variables/vardev/#istwfk">istwfk</a>=2 (the
time spent in FFTs is divided by two).</p>
<h2 id="gpu_devices"><strong>gpu_devices</strong><a class="headerlink" href="#gpu_devices" title="Permanent link">&para;</a></h2>
<p>Mnemonics: GPU: choice of DEVICES on one node<br />
Variable type: integer<br />
Dimensions: (5)<br />
Default value: [-1, -1, -1, -1, -1]<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#use_gpu_cuda">use_gpu_cuda</a>==1 (CUDA functionality)  </p>
<p>To be used when several GPU devices are present on each node, assuming the
same number of devices on all nodes.<br />
Allows to choose in which order the GPU devices are chosen and distributed
among MPI processes (see examples below). When the default value (-1) is set,
the GPU devices are chosen by order of performance (FLOPS, memory).  </p>
<p>Examples:</p>
<ul>
<li>
<p>2 GPU devices per node, 4 MPI processes per node, <strong>gpu_device</strong>=[-1,-1,-1,-1,-1] (default):<br />
MPI processes 0 and 2 use the best GPU card, MPI processes 1 and 3 use the
slowest GPU card.</p>
</li>
<li>
<p>3 GPU devices per node, 5 MPI processes per node, <strong>gpu_device</strong>=[1,0,2,-1,-1]:<br />
MPI processes 0 and 3 use GPU card 1, MPI processes 1 and 4 use GPU card 0,
MPI process 2 uses GPU card 2.</p>
</li>
<li>
<p>3 GPU devices per node, 5 MPI processes per node, <strong>gpu_device</strong>=[0,1,-1,-1,-1]:<br />
MPI processes 0, 2 and 4 use GPU card 0, MPI processes 1 and 3 use GPU card 1;
the 3rd GPU card is not used.</p>
</li>
</ul>
<p>GPU card are numbered starting from 0; to get the GPU devices list, type
&ldquo;nvidia-smi&rdquo; or &ldquo;lspci | grep -i nvidia&rdquo;.</p>
<h2 id="gpu_linalg_limit"><strong>gpu_linalg_limit</strong><a class="headerlink" href="#gpu_linalg_limit" title="Permanent link">&para;</a></h2>
<p>Mnemonics: GPU (Cuda): LINear ALGebra LIMIT<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 2000000<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#use_gpu_cuda">use_gpu_cuda</a>==1 (CUDA functionality)  </p>
<p>Use of linear algebra and matrix algebra on GPU is only efficient if the size
of the involved matrices is large enough. The <a class="wikilink" href="../../input_variables/varpar/#gpu_linalg_limit">gpu_linalg_limit</a> parameter
defines the threshold above which linear (and matrix) algebra operations are
done on the Graphics Processing Unit.<br />
The considered matrix size is equal to:  </p>
<ul>
<li>SIZE=(<a class="wikilink" href="../../input_variables/varint/#mpw">mpw</a><em><a class="wikilink" href="../../input_variables/vargs/#nspinor">nspinor</a>/ <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>)</em> (<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a><em><a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a>)</em>*2 </li>
</ul>
<p>When SIZE&gt;=<a class="wikilink" href="../../input_variables/varpar/#gpu_linalg_limit">gpu_linalg_limit</a>, <a class="wikilink" href="../../input_variables/vardev/#wfoptalg">wfoptalg</a> parameter is automatically
set to 14 which corresponds to the use of LOBPCG algorithm for the calculation
of the eigenstates.</p>
<h2 id="gwpara"><strong>gwpara</strong><a class="headerlink" href="#gwpara" title="Permanent link">&para;</a></h2>
<p>Mnemonics: GW PARAllelization level<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 2<br />
Comment: The default value has been changed in v8. From 1 to 2 <br />
Only relevant if <a class="wikilink" href="../../input_variables/vargs/#optdriver">optdriver</a> in [3,4]  </p>
<p><a class="wikilink" href="../../input_variables/varpar/#gwpara">gwpara</a> is used to choose between the two different parallelization levels
available in the <a class="wikilink" href="../../GW/">GW</a> code. The available options are:</p>
<ul>
<li>=1 =&gt; parallelisation on k points </li>
<li>=2 =&gt; parallelisation on bands </li>
</ul>
<p>Additional notes:<br />
In the present status of the code, only the parallelization over bands
(<a class="wikilink" href="../../input_variables/varpar/#gwpara">gwpara</a>=2) allows to reduce the memory allocated by each processor.<br />
Using <a class="wikilink" href="../../input_variables/varpar/#gwpara">gwpara</a>=1, indeed, requires the same amount of memory as a sequential
run, irrespectively of the number of CPUs used.</p>
<h2 id="localrdwf"><strong>localrdwf</strong><a class="headerlink" href="#localrdwf" title="Permanent link">&para;</a></h2>
<p>Mnemonics: LOCAL ReaD WaveFunctions<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1  </p>
<p>This input variable is used only when running abinit in parallel. If
<a class="wikilink" href="../../input_variables/varpar/#localrdwf">localrdwf</a>=1, the input wavefunction disk file or the KSS/SCR file in case
of <a class="wikilink" href="../../GW/">GW</a> calculations, is read locally by each processor, while if
<a class="wikilink" href="../../input_variables/varpar/#localrdwf">localrdwf</a>=0, only one processor reads it, and broadcast the data to the
other processors.</p>
<p>The option <a class="wikilink" href="../../input_variables/varpar/#localrdwf">localrdwf</a>=0 is NOT allowed when parallel I/O are activated
(MPI-IO access), i.e. when <a class="wikilink" href="../../input_variables/vardev/#iomode">iomode</a>==1.</p>
<p>In the case of a parallel computer with a unique file system, both options are
as convenient for the user. However, if the I/O are slow compared to
communications between processors, , <a class="wikilink" href="../../input_variables/varpar/#localrdwf">localrdwf</a>=0 should be much more
efficient; if you really need temporary disk storage, switch to localrdwf=1 ).</p>
<p>In the case of a cluster of nodes, with a different file system for each
machine, the input wavefunction file must be available on all nodes if
<a class="wikilink" href="../../input_variables/varpar/#localrdwf">localrdwf</a>=1, while it is needed only for the master node if
<a class="wikilink" href="../../input_variables/varpar/#localrdwf">localrdwf</a>=0.</p>
<h2 id="max_ncpus"><strong>max_ncpus</strong><a class="headerlink" href="#max_ncpus" title="Permanent link">&para;</a></h2>
<p>Mnemonics: MAXimum Number of CPUS<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 0  </p>
<p>If <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> &gt; 1 and <a class="wikilink" href="../../input_variables/varpar/#max_ncpus">max_ncpus</a> is greater than 0, ABINIT analyzes
the efficiency of the process distribution for each possible number of
processors from 2 to <a class="wikilink" href="../../input_variables/varpar/#max_ncpus">max_ncpus</a>. After having printed out the efficiency,
the code stops.</p>
<h2 id="np_slk"><strong>np_slk</strong><a class="headerlink" href="#np_slk" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of mpi Processors used for ScaLapacK calls<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1000000<br />
Only relevant if <a class="wikilink" href="../../input_variables/vargs/#optdriver">optdriver</a>==1 and <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>==1 (Ground-state calculations with LOBPCG algorithm)  </p>
<p>When using Scalapack (or any similar Matrix Algebra library), the efficiency
of the eigenproblem resolution saturates as the number of CPU cores increases.
It is better to use a smaller number of CPU cores for the LINALG calls.<br />
This maximum number of cores can be set with <a class="wikilink" href="../../input_variables/varpar/#np_slk">np_slk</a>.<br />
A large number for <a class="wikilink" href="../../input_variables/varpar/#np_slk">np_slk</a> (i.e. 1000000) means that all cores are used for
the Linear Algebra calls.<br />
np_slk must divide the number of processors involved in diagonalizations
(<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a><em><a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a></em><a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>).<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> input keyword.</p>
<h2 id="npband"><strong>npband</strong><a class="headerlink" href="#npband" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of Processors at the BAND level<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>==1  </p>
<p>Relevant only for the band/FFT parallelisation (see the <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a> input
variable).<br />
<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> gives the number of processors among which the work load over the
band level is shared. <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a> and <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> are
combined to give the total number of processors (nproc) working on the
band/FFT/k-point parallelisation.<br />
See <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> and <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation. <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> has to
be a divisor or equal to <a class="wikilink" href="../../input_variables/varbas/#nband">nband</a><br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> input keyword.</p>
<h2 id="npfft"><strong>npfft</strong><a class="headerlink" href="#npfft" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of Processors at the FFT level<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>==1  </p>
<p>Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>
input variable).<br />
<a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a> gives the number of processors among which the work load over the
FFT level is shared. <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> and <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> are
combined to give the total number of processors (nproc) working on the
band/FFT/k-point parallelisation.<br />
See <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>, and <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</p>
<p>Note : <a class="wikilink" href="../../input_variables/vargs/#ngfft">ngfft</a> is automatically adjusted to <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>. If the number of
processor is changed from a calculation to another one, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a> may change,
and then <a class="wikilink" href="../../input_variables/vargs/#ngfft">ngfft</a> also.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> input keyword.</p>
<h2 id="nphf"><strong>nphf</strong><a class="headerlink" href="#nphf" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of Processors for (Hartree)-Fock exact exchange<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1  </p>
<p>Relevant only for the k-point/fock parallelisation (option <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a> input
variable).<br />
<a class="wikilink" href="../../input_variables/varpar/#nphf">nphf</a> gives the number of processors among which the work load over the
occupied states level is shared. <a class="wikilink" href="../../input_variables/varpar/#nphf">nphf</a> and <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a> are combined to give
the total number of processors (nproc) working on the parallelisation.  </p>
<p>Note : <a class="wikilink" href="../../input_variables/varpar/#nphf">nphf</a> should be a divisor or equal to the number of k-point times
the number of bands for exact exchange (<a class="wikilink" href="../../input_variables/varbas/#nkpthf">nkpthf</a>*<a class="wikilink" href="../../input_variables/varbas/#nbandhf">nbandhf</a>) in order to
have the better load-balancing and efficiency.  </p>
<h2 id="npimage"><strong>npimage</strong><a class="headerlink" href="#npimage" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of Processors at the IMAGE level<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1  </p>
<p>Relevant only when sets of images are activated (see <a class="wikilink" href="../../input_variables/varrlx/#imgmov">imgmov</a> and <a class="wikilink" href="../../input_variables/varrlx/#nimage">nimage</a>
).<br />
<a class="wikilink" href="../../input_variables/varpar/#npimage">npimage</a> gives the number of processors among which the work load over the
image level is shared. It is compatible with all other parallelization levels
available for ground-state calculations.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> input keyword.  </p>
<p>_See <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a> and <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> for the
additional information on the use of k-point/band/FFT parallelisation. _</p>
<h2 id="npkpt"><strong>npkpt</strong><a class="headerlink" href="#npkpt" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of Processors at the K-Point Level<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>==1  </p>
<p>Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>
input variable).<br />
<a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a> gives the number of processors among which the work load over the
k-point/spin-component level is shared. <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> and
<a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> are combined to give the total number of processors (nproc)
working on the band/FFT/k-point parallelisation.<br />
See <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> and <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</p>
<p><a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a> should be a divisor or equal to with the number of k-point/spin-
components (<a class="wikilink" href="../../input_variables/varbas/#nkpt">nkpt</a>*<a class="wikilink" href="../../input_variables/varbas/#nsppol">nsppol</a>) in order to have the better load-balancing
and efficiency.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> input keyword.</p>
<h2 id="nppert"><strong>nppert</strong><a class="headerlink" href="#nppert" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of Processors at the PERTurbation level<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#paral_rf">paral_rf</a>==1  </p>
<p>This parameter is used in connection to the parallelization over
perturbations(see <a class="wikilink" href="../../input_variables/varpar/#paral_rf">paral_rf</a> ), for a linear response calculation.
<a class="wikilink" href="../../input_variables/varpar/#nppert">nppert</a> gives the number of processors among which the work load over the
perturbation level is shared. It can even be specified separately for each
dataset.</p>
<h2 id="npspinor"><strong>npspinor</strong><a class="headerlink" href="#npspinor" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Number of Processors at the SPINOR level<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>==1  </p>
<p>Can be 1 or 2 (if <a class="wikilink" href="../../input_variables/vargs/#nspinor">nspinor</a>=2).<br />
Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>
input variable).<br />
<a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> gives the number of processors among which the work load over the
spinorial components of wave-functions is shared. <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>,
<a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> and <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a> are combined to give the total number of processors
(nproc) working on the band/FFT/k-point parallelisation.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/varpar/#autoparal">autoparal</a> input keyword.  </p>
<p><em>See <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, and <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</em>  </p>
<h2 id="paral_atom"><strong>paral_atom</strong><a class="headerlink" href="#paral_atom" title="Permanent link">&para;</a></h2>
<p>Mnemonics: activate PARALelization over (paw) ATOMic sites<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1  </p>
<p>Relevant only for PAW calculations.<br />
This keyword controls the parallel distribution of memory over atomic sites.
Calculations are also distributed using the &ldquo;kpt-band&rdquo; communicator.
Compatible with ground-state calculations and response function calculations  </p>
<h2 id="paral_kgb"><strong>paral_kgb</strong><a class="headerlink" href="#paral_kgb" title="Permanent link">&para;</a></h2>
<p>Mnemonics: activate PARALelization over K-point, G-vectors and Bands<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 0  </p>
<p><strong> If paral_kgb is not explicitely put in the input file </strong> , ABINIT automatically detects if the job has been sent in sequential or in parallel. In this last case, it detects the number of processors on which the job has been sent and calculates values of <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>, <a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a> , <a class="wikilink" href="../../input_variables/varpar/#npimage">npimage</a> and <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> that are compatible with the number of processors. It then set paral_kgb to 0 or 1 (see hereunder) and launches the job. </p>
<p><strong> If paral_kgb=0 </strong> , the parallelization over k-points only is activated. In this case, <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a> and <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> are ignored. Require compilation option &ndash;enable-mpi=&rdquo;yes&rdquo;. </p>
<p><strong> If paral_kgb=1 </strong> , the parallelization over bands, FFTs, and k-point/spin-components is activated (see <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a> <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> and eventually <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>). With this parallelization, the work load is split over four levels of parallelization (three level of parallelisation (kpt-band-fft )+ spin) The different communications almost occur along one dimension only. Require compilation option &ndash;enable-mpi=&rdquo;yes&rdquo;. </p>
<p>HOWTO fix the number of processors along one level of parallelisation:<br />
At first, try to parallelise over the k point and spin (see
<a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>,<a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>). Otherwise, for unpolarized calculation at the gamma
point, parallelise over the two other levels: the band and FFT ones. For
nproc&lt;=50, the best speed-up is achieved for <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>=nproc and
<a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>=1 (which is not yet the default). For nproc&gt;=50, the best speed-
up is achieved for <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a> &gt;=4*<a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>.</p>
<p>For additional information, download F. Bottin presentation at the <a href="http://www.abinit.org/community/events/program3rd"> ABINIT
workshop 2007 </a></p>
<p>Suggested acknowledgments :<br />
F. Bottin, S. Leroux, A. Knyazev and G. Zerah, _ Large scale ab initio
calculations based on three levels of parallelization _ , Comput. Mat. Science
<strong> 42 </strong> , 329 (2008), also available on arXiv, http://arxiv.org/abs/0707.3405
.</p>
<p>If the total number of processors used is compatible with the four levels of
parallelization, the values for <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>
and <a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a> will be filled automatically, although the repartition may not
be optimal. To optimize the repartition use:</p>
<p><strong> If paral_kgb=1 </strong> and <strong> max_ncpus = n /= 0 </strong> ABINIT will test automatically if all the processor numbers between 2 and n are convenient for a parallel calculation and print the possible values in the log file. A weight is attributed to each possible processors repartition. It is adviced to select a processor repartition for which the weight is high (as closed to the number of processors as possible). The code will then stop after the printing. This test can be done as well with a sequential as with a parallel version of the code. The user can then choose the adequate number of processor on which he can run his job. He must put again paral_kgb=1 in the input file and put the corresponding values for <a class="wikilink" href="../../input_variables/varpar/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/varpar/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/varpar/#npband">npband</a>,<a class="wikilink" href="../../input_variables/varpar/#bandpp">bandpp</a> and eventually <a class="wikilink" href="../../input_variables/varpar/#npspinor">npspinor</a> in the input file. </p>
<h2 id="paral_rf"><strong>paral_rf</strong><a class="headerlink" href="#paral_rf" title="Permanent link">&para;</a></h2>
<p>Mnemonics: activate PARALlelization over Response Function perturbations<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 0  </p>
<p>This parameter activates the parallelization over perturbations which can be
used during RF-Calculation. It is possible to use this type of parallelization
in combination to the parallelization over k-points.</p>
<p>Currently total energies calculated by groups, where the master process is not
in, are saved in .status_LOGxxxx files.</p>
<p>If <a class="wikilink" href="../../input_variables/varpar/#paral_rf">paral_rf</a> is set to -1, the code reports the list of irreducible
perturbations for the specified q-point in the log file (YAML format) and then
stops.</p>
<p><a class="wikilink" href="../../input_variables/varpar/#paral_rf">paral_rf</a> can be specified separately for each dataset.</p>
<h2 id="pw_unbal_thresh"><strong>pw_unbal_thresh</strong><a class="headerlink" href="#pw_unbal_thresh" title="Permanent link">&para;</a></h2>
<p>Mnemonics: Plane Wave UNBALancing: THRESHold for balancing procedure<br />
Variable type: real<br />
Dimensions: scalar<br />
Default value: 40%<br />
Only relevant if <a class="wikilink" href="../../input_variables/varpar/#paral_kgb">paral_kgb</a>==1  </p>
<p>This parameter (in %) activates a load balancing procedure when the
distribution of plane wave components over MPI processes is not optimal. The
balancing procedure is activated when the ratio between the number of plane
waves treated by a processor and the ideal one is higher than
<em>pw_unbal_thresh</em> %.</p>
<h2 id="use_gpu_cuda"><strong>use_gpu_cuda</strong><a class="headerlink" href="#use_gpu_cuda" title="Permanent link">&para;</a></h2>
<p>Mnemonics: activate USE of GPU accelerators with CUDA (nvidia)<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 1 if <a class="wikilink" href="../../input_variables/vargs/#optdriver">optdriver</a>==0 and <a class="wikilink" href="../../CUDA/">CUDA</a>,
0 otherwise.</p>
<p>Only available if ABINIT executable has been compiled with cuda nvcc compiler.<br />
This parameter activates the use of NVidia graphic accelerators (GPU) if
present.<br />
If <a class="wikilink" href="../../input_variables/varpar/#use_gpu_cuda">use_gpu_cuda</a> = 1, some parts of the computation are transmitted to the
GPUs.<br />
If <a class="wikilink" href="../../input_variables/varpar/#use_gpu_cuda">use_gpu_cuda</a> = 0, no computation is done on GPUs, even if present.  </p>
<p>Note that, while running ABINIT on GPUs, it is recommended to use MAGMA
external library (i.e. Lapack on GPUs). The latter is activated during
compilation stage (see &ldquo;configure&rdquo; step of ABINIT compilation process). If
MAGMA is not used, ABINIT performances on GPUs can be poor.</p>
<h2 id="use_slk"><strong>use_slk</strong><a class="headerlink" href="#use_slk" title="Permanent link">&para;</a></h2>
<p>Mnemonics: USE ScaLapacK<br />
Variable type: integer<br />
Dimensions: scalar<br />
Default value: 0  </p>
<p>If set to 1, enable the use of ScaLapack within LOBPCG.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
<hr>

    <center>Abinit version 8.5.4</center>


    <center>Copyright &copy; 2017 The Abinit Group</center>


<center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
    </div>
    
      <script src="../../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.8/ace.js"></script>
      
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
      
        <script src="../../extra_javascript/abidocs.js"></script>
      
    
    
      
    
  </body>
</html>