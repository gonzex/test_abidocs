
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Abinit documentation">
      
      
        <link rel="canonical" href="http://www.abinit.org/input_variables/paral/">
      
      
        <meta name="author" content="The Abinit group">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.8.1">
    
    
      
        <title>Parallelism - abinit</title>
      
    
    
    
      <script src="../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    <!-- <script src="../../js/somelib.js"></script> -->

    <!-- Jquery from Google CDN 
    -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Bootstrap http://getbootstrap.com/getting-started/ -->
    <!-- Latest compiled and minified CSS 
    -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme
    -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript
    -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- MathJax support -->
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script> 
    <!--
    <script type="text/javascript" async 
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_SVG">
    </script> 
    -->

    <!--
    Configure MathJax to produce automatic equation numbers
    http://docs.mathjax.org/en/latest/tex.html
    -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          TeX: {
              equationNumbers: { autoNumber: "all" },
              extensions: ["AMSmath.js"],
              Macros: {
                  rr: "{\\bf r}",
                  GG: "{\\bf G}",
                  kk: "{\\bf k}",
                  qq: "{\\bf q}"
              }
          }
      });
    </script>

    <!-- See http://docs.mathjax.org/en/latest/start.html 
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        extensions: ["tex2jax.js", "MathMenu.js", "MathZoom.js"],
        jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>
    -->


    
      <link rel="stylesheet" href="../../assets/stylesheets/application-bfecc7305d.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../css/codehilite.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="http://www.abinit.org" title="abinit" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Input Variables
                </span>
              
                <span class="md-header-nav__parent">
                  Abinit
                </span>
              
            
            Parallelism
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." title="User Guide" class="md-tabs__link">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../topics/" title="Topics" class="md-tabs__link">
          Topics
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../varlist_abinit/" title="Input Variables" class="md-tabs__link md-tabs__link--active">
          Input Variables
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../tutorials/welcome/" title="Lessons" class="md-tabs__link">
          Lessons
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../theory/theory_mbt/" title="Theory" class="md-tabs__link">
          Theory
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../developers/README/" title="Developers" class="md-tabs__link">
          Developers
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../about/release-notes/" title="About" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    abinit
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_what_ABINIT_does/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_abinit/" title="Abinit" class="md-nav__link">
      Abinit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_mrgddb/" title="Mrgddb" class="md-nav__link">
      Mrgddb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/help_optic/" title="Optic" class="md-nav__link">
      Optic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Topics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/" title="Complete List" class="md-nav__link">
      Complete List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Artificial/" title="Artificial" class="md-nav__link">
      Artificial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/AtomManipulator/" title="AtomManipulator" class="md-nav__link">
      AtomManipulator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/AtomTypes/" title="AtomTypes" class="md-nav__link">
      AtomTypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Bader/" title="Bader" class="md-nav__link">
      Bader
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/BandOcc/" title="BandOcc" class="md-nav__link">
      BandOcc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Berry/" title="Berry" class="md-nav__link">
      Berry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/BSE/" title="BSE" class="md-nav__link">
      BSE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/ConstrainedPol/" title="ConstrainedPol" class="md-nav__link">
      ConstrainedPol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Control/" title="Control" class="md-nav__link">
      Control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Coulomb/" title="Coulomb" class="md-nav__link">
      Coulomb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/CRPA/" title="CRPA" class="md-nav__link">
      CRPA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/crystal/" title="Crystal" class="md-nav__link">
      Crystal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Dev/" title="Dev" class="md-nav__link">
      Dev
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/DFPT/" title="DFPT" class="md-nav__link">
      DFPT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/DFT+U/" title="DFT+U" class="md-nav__link">
      DFT+U
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/DMFT/" title="DMFT" class="md-nav__link">
      DMFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/EffMass/" title="EffMass" class="md-nav__link">
      EffMass
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/EFG/" title="EFG" class="md-nav__link">
      EFG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Elastic/" title="Elastic" class="md-nav__link">
      Elastic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/ElecBandStructure/" title="ElecBandStructure" class="md-nav__link">
      ElecBandStructure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/ElecDOS/" title="ElecDOS" class="md-nav__link">
      ElecDOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/ElPhonInt/" title="ElPhonInt" class="md-nav__link">
      ElPhonInt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/ElPhonTransport/" title="ElPhonTransport" class="md-nav__link">
      ElPhonTransport
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/ForcesStresses/" title="ForcesStresses" class="md-nav__link">
      ForcesStresses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/FrequencyMeshMBPT/" title="FrequencyMeshMBPT" class="md-nav__link">
      FrequencyMeshMBPT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/GeoConstraints/" title="GeoConstraints" class="md-nav__link">
      GeoConstraints
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/GeoOpt/" title="GeoOpt" class="md-nav__link">
      GeoOpt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/GW/" title="GW" class="md-nav__link">
      GW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/GWls/" title="GWls" class="md-nav__link">
      GWls
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Hybrids/" title="Hybrids" class="md-nav__link">
      Hybrids
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/k-points/" title="K points" class="md-nav__link">
      K points
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/LOTF/" title="LOTF" class="md-nav__link">
      LOTF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/MagField/" title="MagField" class="md-nav__link">
      MagField
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/MagMom/" title="MagMom" class="md-nav__link">
      MagMom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/MolecularDynamics/" title="MolecularDynamics" class="md-nav__link">
      MolecularDynamics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/multidtset/" title="Multidtset" class="md-nav__link">
      Multidtset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/nonlinear/" title="Nonlinear" class="md-nav__link">
      Nonlinear
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Optic/" title="Optic" class="md-nav__link">
      Optic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Output/" title="Output" class="md-nav__link">
      Output
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/parallelism/" title="Parallelism" class="md-nav__link">
      Parallelism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/PAW/" title="PAW" class="md-nav__link">
      PAW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/PhononBands/" title="PhononBands" class="md-nav__link">
      PhononBands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Phonons/" title="Phonons" class="md-nav__link">
      Phonons
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/PhononWidth/" title="PhononWidth" class="md-nav__link">
      PhononWidth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/PIMD/" title="PIMD" class="md-nav__link">
      PIMD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Planewaves/" title="Planewaves" class="md-nav__link">
      Planewaves
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/positron/" title="Positron" class="md-nav__link">
      Positron
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/printing/" title="Printing" class="md-nav__link">
      Printing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/PseudosPAW/" title="PseudosPAW" class="md-nav__link">
      PseudosPAW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/q-points/" title="Q points" class="md-nav__link">
      Q points
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/RandStopPow/" title="RandStopPow" class="md-nav__link">
      RandStopPow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Recursion/" title="Recursion" class="md-nav__link">
      Recursion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/RPACorrEn/" title="RPACorrEn" class="md-nav__link">
      RPACorrEn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/SCFAlgorithms/" title="SCFAlgorithms" class="md-nav__link">
      SCFAlgorithms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/SCFControl/" title="SCFControl" class="md-nav__link">
      SCFControl
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/SelfEnergy/" title="SelfEnergy" class="md-nav__link">
      SelfEnergy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/SmartSymm/" title="SmartSymm" class="md-nav__link">
      SmartSymm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/spinpolarisation/" title="Spinpolarisation" class="md-nav__link">
      Spinpolarisation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/STM/" title="STM" class="md-nav__link">
      STM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Susceptibility/" title="Susceptibility" class="md-nav__link">
      Susceptibility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/TDDFT/" title="TDDFT" class="md-nav__link">
      TDDFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/TDepES/" title="TDepES" class="md-nav__link">
      TDepES
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Temperature/" title="Temperature" class="md-nav__link">
      Temperature
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/TransPath/" title="TransPath" class="md-nav__link">
      TransPath
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/TuningSpeed/" title="TuningSpeed" class="md-nav__link">
      TuningSpeed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/UnitCell/" title="UnitCell" class="md-nav__link">
      UnitCell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/vdw/" title="Vdw" class="md-nav__link">
      Vdw
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Wannier/" title="Wannier" class="md-nav__link">
      Wannier
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/Wavelets/" title="Wavelets" class="md-nav__link">
      Wavelets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/xc/" title="Xc" class="md-nav__link">
      Xc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Input Variables
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Input Variables
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      Abinit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Abinit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../varlist_abinit/" title="All Variables" class="md-nav__link">
      All Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../basic/" title="Basic" class="md-nav__link">
      Basic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bse/" title="Bethe-Salpeter" class="md-nav__link">
      Bethe-Salpeter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/" title="Developers" class="md-nav__link">
      Developers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dmft/" title="DMFT" class="md-nav__link">
      DMFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../eph/" title="Electron-Phonon" class="md-nav__link">
      Electron-Phonon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ffield/" title="Varff" class="md-nav__link">
      Varff
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../files/" title="File-handling" class="md-nav__link">
      File-handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../geo/" title="Geometry" class="md-nav__link">
      Geometry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gstate/" title="Ground-State" class="md-nav__link">
      Ground-State
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gw/" title="GW" class="md-nav__link">
      GW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../internal/" title="Internal" class="md-nav__link">
      Internal
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Parallelism
      </label>
    
    <a href="./" title="Parallelism" class="md-nav__link md-nav__link--active">
      Parallelism
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autoparal" title="autoparal" class="md-nav__link">
    autoparal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandpp" title="bandpp" class="md-nav__link">
    bandpp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_devices" title="gpu_devices" class="md-nav__link">
    gpu_devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_linalg_limit" title="gpu_linalg_limit" class="md-nav__link">
    gpu_linalg_limit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gwpara" title="gwpara" class="md-nav__link">
    gwpara
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localrdwf" title="localrdwf" class="md-nav__link">
    localrdwf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#max_ncpus" title="max_ncpus" class="md-nav__link">
    max_ncpus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_slk" title="np_slk" class="md-nav__link">
    np_slk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npband" title="npband" class="md-nav__link">
    npband
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npfft" title="npfft" class="md-nav__link">
    npfft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nphf" title="nphf" class="md-nav__link">
    nphf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npimage" title="npimage" class="md-nav__link">
    npimage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npkpt" title="npkpt" class="md-nav__link">
    npkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nppert" title="nppert" class="md-nav__link">
    nppert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npspinor" title="npspinor" class="md-nav__link">
    npspinor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_atom" title="paral_atom" class="md-nav__link">
    paral_atom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_kgb" title="paral_kgb" class="md-nav__link">
    paral_kgb
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_rf" title="paral_rf" class="md-nav__link">
    paral_rf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pw_unbal_thresh" title="pw_unbal_thresh" class="md-nav__link">
    pw_unbal_thresh
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_gpu_cuda" title="use_gpu_cuda" class="md-nav__link">
    use_gpu_cuda
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_slk" title="use_slk" class="md-nav__link">
    use_slk
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../paw/" title="PAW" class="md-nav__link">
      PAW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dfpt/" title="DFPT" class="md-nav__link">
      DFPT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rlx/" title="Relaxation" class="md-nav__link">
      Relaxation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vdw/" title="VdW" class="md-nav__link">
      VdW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../w90/" title="Wannier90" class="md-nav__link">
      Wannier90
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../anaddb/" title="Anaddb" class="md-nav__link">
      Anaddb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../optic/" title="Optic" class="md-nav__link">
      Optic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aim/" title="Aim" class="md-nav__link">
      Aim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varset_stats/" title="Statistics" class="md-nav__link">
      Statistics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Lessons
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Lessons
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/welcome/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Base Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Base Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base1/" title="Base1" class="md-nav__link">
      Base1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base2/" title="Base2" class="md-nav__link">
      Base2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base3/" title="Base3" class="md-nav__link">
      Base3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base4/" title="Base4" class="md-nav__link">
      Base4
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      DFPT
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        DFPT
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/rf1/" title="RF1" class="md-nav__link">
      RF1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/rf2/" title="RF2" class="md-nav__link">
      RF2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/elastic/" title="Elastic" class="md-nav__link">
      Elastic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/eph/" title="EPH" class="md-nav__link">
      EPH
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/dmft/" title="DMFT" class="md-nav__link">
      DMFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Many-Body
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Many-Body
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/gw1/" title="GW1" class="md-nav__link">
      GW1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/gw2/" title="GW2" class="md-nav__link">
      GW2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/bse/" title="Bethe-Salpeter" class="md-nav__link">
      Bethe-Salpeter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6">
    
    <label class="md-nav__link" for="nav-4-6">
      Parallelism
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Parallelism
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/basepar/" title="Base" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/paral_mbt/" title="Many-Body" class="md-nav__link">
      Many-Body
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Theory
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Theory
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../theory/theory_mbt/" title="MBPT" class="md-nav__link">
      MBPT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../theory/additional_material/" title="Additional Material" class="md-nav__link">
      Additional Material
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bibliography/" title="Bibliography" class="md-nav__link">
      Bibliography
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Developers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Developers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../developers/README/" title="How to write docs" class="md-nav__link">
      How to write docs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autoparal" title="autoparal" class="md-nav__link">
    autoparal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandpp" title="bandpp" class="md-nav__link">
    bandpp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_devices" title="gpu_devices" class="md-nav__link">
    gpu_devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu_linalg_limit" title="gpu_linalg_limit" class="md-nav__link">
    gpu_linalg_limit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gwpara" title="gwpara" class="md-nav__link">
    gwpara
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#localrdwf" title="localrdwf" class="md-nav__link">
    localrdwf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#max_ncpus" title="max_ncpus" class="md-nav__link">
    max_ncpus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#np_slk" title="np_slk" class="md-nav__link">
    np_slk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npband" title="npband" class="md-nav__link">
    npband
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npfft" title="npfft" class="md-nav__link">
    npfft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nphf" title="nphf" class="md-nav__link">
    nphf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npimage" title="npimage" class="md-nav__link">
    npimage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npkpt" title="npkpt" class="md-nav__link">
    npkpt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nppert" title="nppert" class="md-nav__link">
    nppert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npspinor" title="npspinor" class="md-nav__link">
    npspinor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_atom" title="paral_atom" class="md-nav__link">
    paral_atom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_kgb" title="paral_kgb" class="md-nav__link">
    paral_kgb
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paral_rf" title="paral_rf" class="md-nav__link">
    paral_rf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pw_unbal_thresh" title="pw_unbal_thresh" class="md-nav__link">
    pw_unbal_thresh
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_gpu_cuda" title="use_gpu_cuda" class="md-nav__link">
    use_gpu_cuda
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use_slk" title="use_slk" class="md-nav__link">
    use_slk
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/abinit/abinit/edit/master/docs/input_variables/paral.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                  <h1>Parallelism</h1>
                
                <!-- Return to Top -->

<p><a href="javascript:" id="return-to-top"><i class="glyphicon glyphicon-chevron-up"></i></a></p>
<h2 id="autoparal"><strong>autoparal</strong><a class="headerlink" href="#autoparal" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> AUTOmatisation of the PARALlelism<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0  </p>
<p>This input variable is used only when running ABINIT in parallel and for
Ground-State calculations.<br />
It controls the automatic determination of parameters related to parallel work
distribution (if not imposed in input file). Given a total number of
processors, ABINIT can find a suitable distribution that fill (when possible)
all the different levels of parallelization. ABINIT can also determine optimal
parameters for the use of parallel Linear Algebra routines (using Scalapack or
Cuda, at present).<br />
The different values for <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> are:</p>
<ul>
<li><strong> 0: </strong> The <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> feature is deactivated. For ground-state and response function calculations, ABINIT can only activate automatically the parallelism over spins and k-points. </li>
<li>
<p><strong> 1: </strong> The number of processors per parallelization level is determined by mean of a simple (but relatively efficient) heuristic. A scaling factor is attributed to each level and an simple speedup factor is computed. The selected parameters are those giving the best speedup factor. <br />
Possibly concerned parameters: <a class="wikilink" href="../../input_variables/paral/#npimage">npimage</a>, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>,
<a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a>.</p>
</li>
<li>
<p><strong> 2: </strong> The number of processors per parallelization level is first determined by mean of a simple (but relatively efficient) heuristic (see 1 above). Then the code performs a series of small benchmarks using the scheme applied for the LOBPCG algorithm (see: <a class="wikilink" href="../../input_variables/dev/#wfoptalg">wfoptalg</a>=4 or 14). The parallel distribution is then changed according to the benchmarks. <br />
Possibly concerned parameters: <a class="wikilink" href="../../input_variables/paral/#npimage">npimage</a>, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>,
<a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a>.</p>
</li>
<li>
<p><strong> 3: </strong> Same as <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a>=1, plus automatic determination of Linear Algebra routines parameters. <br />
In addition, the code performs a series of small benchmarks using the Linear
Algebra routines (ScaLapack or Cuda-GPU). The parameters used to optimize
Linear Algebra work distribution are then changed according to the benchmarks.<br />
Possibly concerned parameters (in addition to those modified for
<a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a>=1): <a class="wikilink" href="../../input_variables/paral/#use_slk">use_slk</a>, <a class="wikilink" href="../../input_variables/paral/#np_slk">np_slk</a>, <a class="wikilink" href="../../input_variables/paral/#gpu_linalg_limit">gpu_linalg_limit</a></p>
</li>
<li>
<p><strong> 4: </strong> combination of <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a>=2 and <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a>=3. </p>
</li>
</ul>
<p>Note that <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a>=1 can be used on every set of processors;
<a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> &gt; 1 should be used on a sufficiently large number of MPI
process.<br />
Also note that <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> can be used simultaneously with <a class="wikilink" href="../../input_variables/paral/#max_ncpus">max_ncpus</a>; in
this case, ABINIT performs an optimization of process distribution for each
total number of processors from 2 to <a class="wikilink" href="../../input_variables/paral/#max_ncpus">max_ncpus</a>. A weight is associated to
each distribution and the higher this weight is the better the distribution
is. After having printed out the weights, the code stops.</p>
<hr />
<h2 id="bandpp"><strong>bandpp</strong><a class="headerlink" href="#bandpp" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> BAND Per Processor<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>==1<br />
Test list:</p>
<ul>
<li>mpiio:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t24.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test the triple parallelisation. We cannot check the distribution npband*npfft*npkpt=2*2*2=8 processors, this number being not allowed in the test procedure. Here,  we only test the parallelisation over FFT and kpoints: npband*npfft*npkpt=1*2*2=4 processors. In test tY.in we check other distributions for guarantee.">tests/mpiio/Input/t24.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t25.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test the triple parallelisation. We cannot check the distribution npband*npfft*npkpt=2*2*2=8 processors, this number being not allowed in the test procedure. Here,  we only test the parallelisation over bands and spins: npband*npfft*npkpt=2*1*2=4 processors. In addition,  we also test here various features of bandfft-kpt parallelisation In particular,  the bandpp,  istwfk=2 and wfoptalg=14 variables.">tests/mpiio/Input/t25.in</a></li>
<li>paral:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t24.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test the triple parallelisation. We cannot check the distribution npband*npfft*npkpt=2*2*2=8 processors, this number being not allowed in the test procedure. Here,  we only test the parallelisation over FFT and kpoints: npband*npfft*npkpt=1*2*2=4 processors. In test tY.in we check other distributions for guarantee.">tests/paral/Input/t24.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t25.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test the triple parallelisation. We cannot check the distribution npband*npfft*npkpt=2*2*2=8 processors, this number being not allowed in the test procedure. Here,  we only test the parallelisation over bands and spins: npband*npfft*npkpt=2*1*2=4 processors. In addition,  we also test here various features of bandfft-kpt parallelisation In particular,  the bandpp,  istwfk=2 and wfoptalg=14 variables.">tests/paral/Input/t25.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t29.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test MPI-FFT with 2 processors,  istwfk=2 and bandpp 2">tests/paral/Input/t29.in</a></li>
<li>tutoparal:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/tutoparal/Input/tgspw_03.in" title="">tests/tutoparal/Input/tgspw_03.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/tutoparal/Input/tstring_01.in" title="Hydronium ion + NH3 molecule Ground state calculation keeping O and H atoms fixed">tests/tutoparal/Input/tstring_01.in</a></li>
</ul>
<p>Control the size of the block in the LOBPCG algorithm. This keyword works only
with <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>=1 and has to be either 1 or a multiple of 2.  </p>
<p>-- With <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>=1:</p>
<ul>
<li>1 =&gt; band-per-band algorithm </li>
<li>n =&gt; The minimization is performed using <a class="wikilink" href="../../input_variables/basic/#nband">nband</a>/n blocks of n bands. </li>
</ul>
<p>Note: <a class="wikilink" href="../../input_variables/basic/#nband">nband</a>/n has to be an integer.  </p>
<p>-- With <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>/=1:</p>
<ul>
<li>1 =&gt; The minimization is performed using <a class="wikilink" href="../../input_variables/basic/#nband">nband</a>/<a class="wikilink" href="../../input_variables/paral/#npband">npband</a> blocks of <a class="wikilink" href="../../input_variables/paral/#npband">npband</a> bands. </li>
<li>n =&gt; The minimization is performed using <a class="wikilink" href="../../input_variables/basic/#nband">nband</a>/(<a class="wikilink" href="../../input_variables/paral/#npband">npband</a><em>n) blocks of <a class="wikilink" href="../../input_variables/paral/#npband">npband</a></em>n bands. </li>
</ul>
<p>Note: <a class="wikilink" href="../../input_variables/basic/#nband">nband</a>/(<a class="wikilink" href="../../input_variables/paral/#npband">npband</a>*n) has to be an integer.  </p>
<p>By minimizing a larger number of bands together in LOBPCG, we increase the
convergency of the residual. The better minimization procedure (as concerns
the convergency, but not as concerns the speed) is generally performed by
using <a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a>*<a class="wikilink" href="../../input_variables/paral/#npband">npband</a>=<a class="wikilink" href="../../input_variables/basic/#nband">nband</a>. Put <a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a>=2 when <a class="wikilink" href="../../input_variables/dev/#istwfk">istwfk</a>=2 (the
time spent in FFTs is divided by two).</p>
<hr />
<h2 id="gpu_devices"><strong>gpu_devices</strong><a class="headerlink" href="#gpu_devices" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU: choice of DEVICES on one node<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> (5)<br />
<em>Default value:</em> [-1, -1, -1, -1, -1]<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#use_gpu_cuda">use_gpu_cuda</a>==1 (CUDA functionality)<br />
Test list:</p>
<ul>
<li>gpu:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a></li>
</ul>
<p>To be used when several GPU devices are present on each node, assuming the
same number of devices on all nodes.<br />
Allows to choose in which order the GPU devices are chosen and distributed
among MPI processes (see examples below). When the default value (-1) is set,
the GPU devices are chosen by order of performance (FLOPS, memory).  </p>
<p>Examples:</p>
<ul>
<li>
<p>2 GPU devices per node, 4 MPI processes per node, <strong>gpu_device</strong>=[-1,-1,-1,-1,-1] (default):<br />
MPI processes 0 and 2 use the best GPU card, MPI processes 1 and 3 use the
slowest GPU card.</p>
</li>
<li>
<p>3 GPU devices per node, 5 MPI processes per node, <strong>gpu_device</strong>=[1,0,2,-1,-1]:<br />
MPI processes 0 and 3 use GPU card 1, MPI processes 1 and 4 use GPU card 0,
MPI process 2 uses GPU card 2.</p>
</li>
<li>
<p>3 GPU devices per node, 5 MPI processes per node, <strong>gpu_device</strong>=[0,1,-1,-1,-1]:<br />
MPI processes 0, 2 and 4 use GPU card 0, MPI processes 1 and 3 use GPU card 1;
the 3rd GPU card is not used.</p>
</li>
</ul>
<p>GPU card are numbered starting from 0; to get the GPU devices list, type
"nvidia-smi" or "lspci | grep -i nvidia".</p>
<hr />
<h2 id="gpu_linalg_limit"><strong>gpu_linalg_limit</strong><a class="headerlink" href="#gpu_linalg_limit" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GPU (Cuda): LINear ALGebra LIMIT<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 2000000<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#use_gpu_cuda">use_gpu_cuda</a>==1 (CUDA functionality)<br />
Test list:</p>
<ul>
<li>gpu:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t04.in" title="Silicon - diamond structure - PAW - volume relaxation Test the use of GPU within Projector Augmented-Wave formalism. Test structure relaxation (multiple calls to gstate routine).">tests/gpu/Input/t04.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a></li>
</ul>
<p>Use of linear algebra and matrix algebra on GPU is only efficient if the size
of the involved matrices is large enough. The <a class="wikilink" href="../../input_variables/paral/#gpu_linalg_limit">gpu_linalg_limit</a> parameter
defines the threshold above which linear (and matrix) algebra operations are
done on the Graphics Processing Unit.<br />
The considered matrix size is equal to:  </p>
<ul>
<li>SIZE=(<a class="wikilink" href="../../input_variables/internal/#mpw">mpw</a><em><a class="wikilink" href="../../input_variables/gstate/#nspinor">nspinor</a>/ <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>)</em> (<a class="wikilink" href="../../input_variables/paral/#npband">npband</a><em><a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a>)</em>*2 </li>
</ul>
<p>When SIZE&gt;=<a class="wikilink" href="../../input_variables/paral/#gpu_linalg_limit">gpu_linalg_limit</a>, <a class="wikilink" href="../../input_variables/dev/#wfoptalg">wfoptalg</a> parameter is automatically
set to 14 which corresponds to the use of LOBPCG algorithm for the calculation
of the eigenstates.</p>
<hr />
<h2 id="gwpara"><strong>gwpara</strong><a class="headerlink" href="#gwpara" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> GW PARAllelization level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a>, <a class="wikilink" href="../../topics/GW">GW</a>, <a class="wikilink" href="../../topics/Susceptibility">Susceptibility</a>, <a class="wikilink" href="../../topics/SelfEnergy">SelfEnergy</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 2<br />
<em>Comment:</em> The default value has been changed in v8. From 1 to 2 <br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/gstate/#optdriver">optdriver</a> in [3,4]  </p>
<p><a class="wikilink" href="../../input_variables/paral/#gwpara">gwpara</a> is used to choose between the two different parallelization levels
available in the GW code. The available options are:</p>
<ul>
<li>=1 =&gt; parallelisation on k points </li>
<li>=2 =&gt; parallelisation on bands </li>
</ul>
<p>Additional notes:<br />
In the present status of the code, only the parallelization over bands
(<a class="wikilink" href="../../input_variables/paral/#gwpara">gwpara</a>=2) allows to reduce the memory allocated by each processor.<br />
Using <a class="wikilink" href="../../input_variables/paral/#gwpara">gwpara</a>=1, indeed, requires the same amount of memory as a sequential
run, irrespectively of the number of CPUs used.</p>
<hr />
<h2 id="localrdwf"><strong>localrdwf</strong><a class="headerlink" href="#localrdwf" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> LOCAL ReaD WaveFunctions<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1  </p>
<p>This input variable is used only when running abinit in parallel. If
<a class="wikilink" href="../../input_variables/paral/#localrdwf">localrdwf</a>=1, the input wavefunction disk file or the KSS/SCR file in case
of GW calculations, is read locally by each processor, while if
<a class="wikilink" href="../../input_variables/paral/#localrdwf">localrdwf</a>=0, only one processor reads it, and broadcast the data to the
other processors.</p>
<p>The option <a class="wikilink" href="../../input_variables/paral/#localrdwf">localrdwf</a>=0 is NOT allowed when parallel I/O are activated
(MPI-IO access), i.e. when <a class="wikilink" href="../../input_variables/dev/#iomode">iomode</a>==1.</p>
<p>In the case of a parallel computer with a unique file system, both options are
as convenient for the user. However, if the I/O are slow compared to
communications between processors, , <a class="wikilink" href="../../input_variables/paral/#localrdwf">localrdwf</a>=0 should be much more
efficient; if you really need temporary disk storage, switch to localrdwf=1 ).</p>
<p>In the case of a cluster of nodes, with a different file system for each
machine, the input wavefunction file must be available on all nodes if
<a class="wikilink" href="../../input_variables/paral/#localrdwf">localrdwf</a>=1, while it is needed only for the master node if
<a class="wikilink" href="../../input_variables/paral/#localrdwf">localrdwf</a>=0.</p>
<hr />
<h2 id="max_ncpus"><strong>max_ncpus</strong><a class="headerlink" href="#max_ncpus" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> MAXimum Number of CPUS<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
Test list:</p>
<ul>
<li>tutoparal:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/tutoparal/Input/tgspw_01.in" title="Gold with one vacancy (107 atoms of gold).">tests/tutoparal/Input/tgspw_01.in</a></li>
</ul>
<p>If <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> &gt; 1 and <a class="wikilink" href="../../input_variables/paral/#max_ncpus">max_ncpus</a> is greater than 0, ABINIT analyzes
the efficiency of the process distribution for each possible number of
processors from 2 to <a class="wikilink" href="../../input_variables/paral/#max_ncpus">max_ncpus</a>. After having printed out the efficiency,
the code stops.</p>
<hr />
<h2 id="np_slk"><strong>np_slk</strong><a class="headerlink" href="#np_slk" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of mpi Processors used for ScaLapacK calls<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1000000<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/gstate/#optdriver">optdriver</a>==1 and <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>==1 (Ground-state calculations with LOBPCG algorithm)<br />
Test list:</p>
<ul>
<li>paral:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t22.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test of ground state with different occs(7 and 0), and also ionmov 2. Only with 0 and 4 procs.">tests/paral/Input/t22.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t30.in" title="Chebyshev,  C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Also test gemm_nonlop">tests/paral/Input/t30.in</a></li>
</ul>
<p>When using Scalapack (or any similar Matrix Algebra library), the efficiency
of the eigenproblem resolution saturates as the number of CPU cores increases.
It is better to use a smaller number of CPU cores for the LINALG calls.<br />
This maximum number of cores can be set with <a class="wikilink" href="../../input_variables/paral/#np_slk">np_slk</a>.<br />
A large number for <a class="wikilink" href="../../input_variables/paral/#np_slk">np_slk</a> (i.e. 1000000) means that all cores are used for
the Linear Algebra calls.<br />
np_slk must divide the number of processors involved in diagonalizations
(<a class="wikilink" href="../../input_variables/paral/#npband">npband</a><em><a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a></em><a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>).<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> input keyword.</p>
<hr />
<h2 id="npband"><strong>npband</strong><a class="headerlink" href="#npband" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the BAND level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>==1  </p>
<p>Relevant only for the band/FFT parallelisation (see the <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a> input
variable).<br />
<a class="wikilink" href="../../input_variables/paral/#npband">npband</a> gives the number of processors among which the work load over the
band level is shared. <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a> and <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> are
combined to give the total number of processors (nproc) working on the
band/FFT/k-point parallelisation.<br />
See <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> and <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation. <a class="wikilink" href="../../input_variables/paral/#npband">npband</a> has to
be a divisor or equal to <a class="wikilink" href="../../input_variables/basic/#nband">nband</a><br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> input keyword.</p>
<hr />
<h2 id="npfft"><strong>npfft</strong><a class="headerlink" href="#npfft" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the FFT level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>==1  </p>
<p>Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>
input variable).<br />
<a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a> gives the number of processors among which the work load over the
FFT level is shared. <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a> and <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> are
combined to give the total number of processors (nproc) working on the
band/FFT/k-point parallelisation.<br />
See <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>, and <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</p>
<p>Note : <a class="wikilink" href="../../input_variables/gstate/#ngfft">ngfft</a> is automatically adjusted to <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>. If the number of
processor is changed from a calculation to another one, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a> may change,
and then <a class="wikilink" href="../../input_variables/gstate/#ngfft">ngfft</a> also.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> input keyword.</p>
<hr />
<h2 id="nphf"><strong>nphf</strong><a class="headerlink" href="#nphf" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors for (Hartree)-Fock exact exchange<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/Hybrids">Hybrids</a>, <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
Test list:</p>
<ul>
<li>libxc:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/libxc/Input/t53.in" title="Test of HSE06 in PAW">tests/libxc/Input/t53.in</a></li>
<li>paral:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t93.in" title="Test of HF in parallel. NB: HF does not support MPI-IO. gmatteo will add support for HDF5 when this test will succeed with MPI-IO. For the time being,  this test is disabled when we are in netcdf mode.">tests/paral/Input/t93.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t94.in" title="Test of PBE0-1/3 in parallel NB: HF does not support MPI-IO. gmatteo will add support for HDF5 when this test will succeed with MPI-IO. For the time being,  this test is disabled when we are in netcdf mode.">tests/paral/Input/t94.in</a></li>
<li>v7:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v7/Input/t65.in" title="Test of PBE0 in sequential case">tests/v7/Input/t65.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v7/Input/t66.in" title="Test of PBE0 in sequential case">tests/v7/Input/t66.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v7/Input/t70.in" title="Test of HF in PAW">tests/v7/Input/t70.in</a></li>
</ul>
<p>Relevant only for the k-point/fock parallelisation (option <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a> input
variable).<br />
<a class="wikilink" href="../../input_variables/paral/#nphf">nphf</a> gives the number of processors among which the work load over the
occupied states level is shared. <a class="wikilink" href="../../input_variables/paral/#nphf">nphf</a> and <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a> are combined to give
the total number of processors (nproc) working on the parallelisation.  </p>
<p>Note : <a class="wikilink" href="../../input_variables/paral/#nphf">nphf</a> should be a divisor or equal to the number of k-point times
the number of bands for exact exchange (<a class="wikilink" href="../../input_variables/basic/#nkpthf">nkpthf</a>*<a class="wikilink" href="../../input_variables/basic/#nbandhf">nbandhf</a>) in order to
have the better load-balancing and efficiency.  </p>
<hr />
<h2 id="npimage"><strong>npimage</strong><a class="headerlink" href="#npimage" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the IMAGE level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a>, <a class="wikilink" href="../../topics/PIMD">PIMD</a>, <a class="wikilink" href="../../topics/TransPath">TransPath</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
Test list:</p>
<ul>
<li>paral:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t08.in" title="Test the string method within parallelization over images Inspired by test v6#22. Hydrogen diatomic molecule in a cell,  close to BCC 7 images,  exploring the transition path. Three datasets,  testing each value of prtvolimg. Processors distribution automatically determined:">tests/paral/Input/t08.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t08.in" title="Test the string method within parallelization over images Inspired by test v6#22. Hydrogen diatomic molecule in a cell,  close to BCC 7 images,  exploring the transition path. Three datasets,  testing each value of prtvolimg. Processors distribution automatically determined:">tests/paral/Input/t08.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t08.in" title="Test the string method within parallelization over images Inspired by test v6#22. Hydrogen diatomic molecule in a cell,  close to BCC 7 images,  exploring the transition path. Three datasets,  testing each value of prtvolimg. Processors distribution automatically determined:">tests/paral/Input/t08.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t08.in" title="Test the string method within parallelization over images Inspired by test v6#22. Hydrogen diatomic molecule in a cell,  close to BCC 7 images,  exploring the transition path. Three datasets,  testing each value of prtvolimg. Processors distribution automatically determined:">tests/paral/Input/t08.in</a></li>
</ul>
<p>Relevant only when sets of images are activated (see <a class="wikilink" href="../../input_variables/rlx/#imgmov">imgmov</a> and <a class="wikilink" href="../../input_variables/rlx/#nimage">nimage</a>
).<br />
<a class="wikilink" href="../../input_variables/paral/#npimage">npimage</a> gives the number of processors among which the work load over the
image level is shared. It is compatible with all other parallelization levels
available for ground-state calculations.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> input keyword.  </p>
<p>_See <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a> and <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> for the
additional information on the use of k-point/band/FFT parallelisation. _</p>
<hr />
<h2 id="npkpt"><strong>npkpt</strong><a class="headerlink" href="#npkpt" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the K-Point Level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>==1  </p>
<p>Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>
input variable).<br />
<a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a> gives the number of processors among which the work load over the
k-point/spin-component level is shared. <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a> and
<a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> are combined to give the total number of processors (nproc)
working on the band/FFT/k-point parallelisation.<br />
See <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> and <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</p>
<p><a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a> should be a divisor or equal to with the number of k-point/spin-
components (<a class="wikilink" href="../../input_variables/basic/#nkpt">nkpt</a>*<a class="wikilink" href="../../input_variables/basic/#nsppol">nsppol</a>) in order to have the better load-balancing
and efficiency.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> input keyword.</p>
<hr />
<h2 id="nppert"><strong>nppert</strong><a class="headerlink" href="#nppert" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the PERTurbation level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#paral_rf">paral_rf</a>==1<br />
Test list:</p>
<ul>
<li>mpiio:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t62.in" title="This test check the parallelization over atomic sites both for the ground state and response function features (within PAW formalism),  together with parallelization over perturbations. Computation of phonons and response to electric field within PAW (both q=0 and q/=0) Test on AlAs structure inspired by v6/t62. Ground state,  DDK,  effective charges and dielectric tensor are computed. Phonon modes at q=0 are computed. Phonon modes at q=(1/4, 0, 0) and q=(-1/4, 1/2/1/4) are computed. Note: Charge neutrality is not achieved with the present dataset, but can be easily reached by increasing some parameters;  for instance: (ngkpt 8 8 8,  ecut 15.,  pawecutdg 30.) gives Z(Al)=2.1184310,  Z(As)=-2.1184804">tests/mpiio/Input/t62.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t62.in" title="This test check the parallelization over atomic sites both for the ground state and response function features (within PAW formalism),  together with parallelization over perturbations. Computation of phonons and response to electric field within PAW (both q=0 and q/=0) Test on AlAs structure inspired by v6/t62. Ground state,  DDK,  effective charges and dielectric tensor are computed. Phonon modes at q=0 are computed. Phonon modes at q=(1/4, 0, 0) and q=(-1/4, 1/2/1/4) are computed. Note: Charge neutrality is not achieved with the present dataset, but can be easily reached by increasing some parameters;  for instance: (ngkpt 8 8 8,  ecut 15.,  pawecutdg 30.) gives Z(Al)=2.1184310,  Z(As)=-2.1184804">tests/mpiio/Input/t62.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t69.in" title="GaAs linear response with NC. Test the parallelisation on perturbations">tests/mpiio/Input/t69.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t69.in" title="GaAs linear response with NC. Test the parallelisation on perturbations">tests/mpiio/Input/t69.in</a></li>
</ul>
<p>This parameter is used in connection to the parallelization over
perturbations(see <a class="wikilink" href="../../input_variables/paral/#paral_rf">paral_rf</a> ), for a linear response calculation.
<a class="wikilink" href="../../input_variables/paral/#nppert">nppert</a> gives the number of processors among which the work load over the
perturbation level is shared. It can even be specified separately for each
dataset.</p>
<hr />
<h2 id="npspinor"><strong>npspinor</strong><a class="headerlink" href="#npspinor" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Number of Processors at the SPINOR level<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>==1<br />
Test list:</p>
<ul>
<li>mpiio:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t28.in" title="GaAs with PAW and spin-orbit coupling. 2x2x2 K grid;  low cut-off for test Test paral_kgb==1 with MPI-FFT/spinor parallelization,  the IO of the WFK file, the output of potential files and the calculation of PJDOS in parallel (PW term + on-site contributions)">tests/mpiio/Input/t28.in</a></li>
<li>paral:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t28.in" title="Test the parallelization over spinorial components of WF Bi A7 structure (2 atoms,  treated as semi-conductor), using PAW,  within LDA and spin-orbit coupling. - with zero magnetization      (nspden=1,  nspinor=2) - with non-collinear magnetism (nspden=4,  nspinor=2)">tests/paral/Input/t28.in</a></li>
</ul>
<p>Can be 1 or 2 (if <a class="wikilink" href="../../input_variables/gstate/#nspinor">nspinor</a>=2).<br />
Relevant only for the band/FFT/k-point parallelisation (see the <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>
input variable).<br />
<a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> gives the number of processors among which the work load over the
spinorial components of wave-functions is shared. <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>,
<a class="wikilink" href="../../input_variables/paral/#npband">npband</a> and <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a> are combined to give the total number of processors
(nproc) working on the band/FFT/k-point parallelisation.<br />
Note: an optimal value for this parameter can be automatically found by using
the <a class="wikilink" href="../../input_variables/paral/#autoparal">autoparal</a> input keyword.  </p>
<p><em>See <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, and <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a> for the additional
information on the use of band/FFT/k-point parallelisation.</em>  </p>
<hr />
<h2 id="paral_atom"><strong>paral_atom</strong><a class="headerlink" href="#paral_atom" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> activate PARALelization over (paw) ATOMic sites<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1<br />
Test list:</p>
<ul>
<li>libxc:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/libxc/Input/t53.in" title="Test of HSE06 in PAW">tests/libxc/Input/t53.in</a></li>
<li>mpiio:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t62.in" title="This test check the parallelization over atomic sites both for the ground state and response function features (within PAW formalism),  together with parallelization over perturbations. Computation of phonons and response to electric field within PAW (both q=0 and q/=0) Test on AlAs structure inspired by v6/t62. Ground state,  DDK,  effective charges and dielectric tensor are computed. Phonon modes at q=0 are computed. Phonon modes at q=(1/4, 0, 0) and q=(-1/4, 1/2/1/4) are computed. Note: Charge neutrality is not achieved with the present dataset, but can be easily reached by increasing some parameters;  for instance: (ngkpt 8 8 8,  ecut 15.,  pawecutdg 30.) gives Z(Al)=2.1184310,  Z(As)=-2.1184804">tests/mpiio/Input/t62.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t62.in" title="This test check the parallelization over atomic sites both for the ground state and response function features (within PAW formalism),  together with parallelization over perturbations. Computation of phonons and response to electric field within PAW (both q=0 and q/=0) Test on AlAs structure inspired by v6/t62. Ground state,  DDK,  effective charges and dielectric tensor are computed. Phonon modes at q=0 are computed. Phonon modes at q=(1/4, 0, 0) and q=(-1/4, 1/2/1/4) are computed. Note: Charge neutrality is not achieved with the present dataset, but can be easily reached by increasing some parameters;  for instance: (ngkpt 8 8 8,  ecut 15.,  pawecutdg 30.) gives Z(Al)=2.1184310,  Z(As)=-2.1184804">tests/mpiio/Input/t62.in</a></li>
<li>paral:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t07.in" title="PAW Berrys Phase calculation of Born effective charge in AlAs by finite electric fields (contributed by J. Zwanziger,  adapted from efield tutorial). The need to have the number of points a multiple of the number of processor is not convenient ...">tests/paral/Input/t07.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t07.in" title="PAW Berrys Phase calculation of Born effective charge in AlAs by finite electric fields (contributed by J. Zwanziger,  adapted from efield tutorial). The need to have the number of points a multiple of the number of processor is not convenient ...">tests/paral/Input/t07.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t07.in" title="PAW Berrys Phase calculation of Born effective charge in AlAs by finite electric fields (contributed by J. Zwanziger,  adapted from efield tutorial). The need to have the number of points a multiple of the number of processor is not convenient ...">tests/paral/Input/t07.in</a></li>
<li>v5:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v5/Input/t06.in" title="PAW: test of some variables reserved to experienced users or developers BCC iron,  ferromagnetic,  GGA,  PAW. Also tests maxnsym keyword.">tests/v5/Input/t06.in</a></li>
<li>v7:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v7/Input/t32.in" title="Test presence of nuclear magnetic dipole moments on atomic sites">tests/v7/Input/t32.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v7/Input/t70.in" title="Test of HF in PAW">tests/v7/Input/t70.in</a></li>
</ul>
<p>Relevant only for PAW calculations.<br />
This keyword controls the parallel distribution of memory over atomic sites.
Calculations are also distributed using the "kpt-band" communicator.
Compatible with ground-state calculations and response function calculations  </p>
<hr />
<h2 id="paral_kgb"><strong>paral_kgb</strong><a class="headerlink" href="#paral_kgb" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> activate PARALelization over K-point, G-vectors and Bands<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0  </p>
<p><strong> If paral_kgb is not explicitely put in the input file </strong> , ABINIT automatically detects if the job has been sent in sequential or in parallel. In this last case, it detects the number of processors on which the job has been sent and calculates values of <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>, <a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a> , <a class="wikilink" href="../../input_variables/paral/#npimage">npimage</a> and <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> that are compatible with the number of processors. It then set paral_kgb to 0 or 1 (see hereunder) and launches the job. </p>
<p><strong> If paral_kgb=0 </strong> , the parallelization over k-points only is activated. In this case, <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a> and <a class="wikilink" href="../../input_variables/paral/#npband">npband</a> are ignored. Require compilation option --enable-mpi="yes". </p>
<p><strong> If paral_kgb=1 </strong> , the parallelization over bands, FFTs, and k-point/spin-components is activated (see <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a> <a class="wikilink" href="../../input_variables/paral/#npband">npband</a> and eventually <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>). With this parallelization, the work load is split over four levels of parallelization (three level of parallelisation (kpt-band-fft )+ spin) The different communications almost occur along one dimension only. Require compilation option --enable-mpi="yes". </p>
<p>HOWTO fix the number of processors along one level of parallelisation:<br />
At first, try to parallelise over the k point and spin (see
<a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>,<a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>). Otherwise, for unpolarized calculation at the gamma
point, parallelise over the two other levels: the band and FFT ones. For
nproc&lt;=50, the best speed-up is achieved for <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>=nproc and
<a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>=1 (which is not yet the default). For nproc&gt;=50, the best speed-
up is achieved for <a class="wikilink" href="../../input_variables/paral/#npband">npband</a> &gt;=4*<a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>.</p>
<p>For additional information, download F. Bottin presentation at the <a href="http://www.abinit.org/community/events/program3rd"> ABINIT
workshop 2007 </a></p>
<p>Suggested acknowledgments :<br />
F. Bottin, S. Leroux, A. Knyazev and G. Zerah, _ Large scale ab initio
calculations based on three levels of parallelization _ , Comput. Mat. Science
<strong> 42 </strong> , 329 (2008), also available on arXiv, http://arxiv.org/abs/0707.3405
.</p>
<p>If the total number of processors used is compatible with the four levels of
parallelization, the values for <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>
and <a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a> will be filled automatically, although the repartition may not
be optimal. To optimize the repartition use:</p>
<p><strong> If paral_kgb=1 </strong> and <strong> max_ncpus = n /= 0 </strong> ABINIT will test automatically if all the processor numbers between 2 and n are convenient for a parallel calculation and print the possible values in the log file. A weight is attributed to each possible processors repartition. It is adviced to select a processor repartition for which the weight is high (as closed to the number of processors as possible). The code will then stop after the printing. This test can be done as well with a sequential as with a parallel version of the code. The user can then choose the adequate number of processor on which he can run his job. He must put again paral_kgb=1 in the input file and put the corresponding values for <a class="wikilink" href="../../input_variables/paral/#npkpt">npkpt</a>, <a class="wikilink" href="../../input_variables/paral/#npfft">npfft</a>, <a class="wikilink" href="../../input_variables/paral/#npband">npband</a>,<a class="wikilink" href="../../input_variables/paral/#bandpp">bandpp</a> and eventually <a class="wikilink" href="../../input_variables/paral/#npspinor">npspinor</a> in the input file. </p>
<hr />
<h2 id="paral_rf"><strong>paral_rf</strong><a class="headerlink" href="#paral_rf" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> activate PARALlelization over Response Function perturbations<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
Test list:</p>
<ul>
<li>mpiio:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t62.in" title="This test check the parallelization over atomic sites both for the ground state and response function features (within PAW formalism),  together with parallelization over perturbations. Computation of phonons and response to electric field within PAW (both q=0 and q/=0) Test on AlAs structure inspired by v6/t62. Ground state,  DDK,  effective charges and dielectric tensor are computed. Phonon modes at q=0 are computed. Phonon modes at q=(1/4, 0, 0) and q=(-1/4, 1/2/1/4) are computed. Note: Charge neutrality is not achieved with the present dataset, but can be easily reached by increasing some parameters;  for instance: (ngkpt 8 8 8,  ecut 15.,  pawecutdg 30.) gives Z(Al)=2.1184310,  Z(As)=-2.1184804">tests/mpiio/Input/t62.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t62.in" title="This test check the parallelization over atomic sites both for the ground state and response function features (within PAW formalism),  together with parallelization over perturbations. Computation of phonons and response to electric field within PAW (both q=0 and q/=0) Test on AlAs structure inspired by v6/t62. Ground state,  DDK,  effective charges and dielectric tensor are computed. Phonon modes at q=0 are computed. Phonon modes at q=(1/4, 0, 0) and q=(-1/4, 1/2/1/4) are computed. Note: Charge neutrality is not achieved with the present dataset, but can be easily reached by increasing some parameters;  for instance: (ngkpt 8 8 8,  ecut 15.,  pawecutdg 30.) gives Z(Al)=2.1184310,  Z(As)=-2.1184804">tests/mpiio/Input/t62.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t69.in" title="GaAs linear response with NC. Test the parallelisation on perturbations">tests/mpiio/Input/t69.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t69.in" title="GaAs linear response with NC. Test the parallelisation on perturbations">tests/mpiio/Input/t69.in</a></li>
</ul>
<p>This parameter activates the parallelization over perturbations which can be
used during RF-Calculation. It is possible to use this type of parallelization
in combination to the parallelization over k-points.</p>
<p>Currently total energies calculated by groups, where the master process is not
in, are saved in .status_LOGxxxx files.</p>
<p>If <a class="wikilink" href="../../input_variables/paral/#paral_rf">paral_rf</a> is set to -1, the code reports the list of irreducible
perturbations for the specified q-point in the log file (YAML format) and then
stops.</p>
<p><a class="wikilink" href="../../input_variables/paral/#paral_rf">paral_rf</a> can be specified separately for each dataset.</p>
<hr />
<h2 id="pw_unbal_thresh"><strong>pw_unbal_thresh</strong><a class="headerlink" href="#pw_unbal_thresh" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> Plane Wave UNBALancing: THRESHold for balancing procedure<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> real<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 40%<br />
<em>Only relevant if:</em> <a class="wikilink" href="../../input_variables/paral/#paral_kgb">paral_kgb</a>==1<br />
Test list:</p>
<ul>
<li>mpiio:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t26.in" title="C-diamond,  Bulk,  2 atoms,  with PAW. Test the IO routines with paral_kgb in [1,  0] and different combinations of parameters (npfft,  npband,  npkpt). Test the plane wave load balancing procedure (pw_unbal_thresh). Test also the computation of PJDOS.">tests/mpiio/Input/t26.in</a></li>
</ul>
<p>This parameter (in %) activates a load balancing procedure when the
distribution of plane wave components over MPI processes is not optimal. The
balancing procedure is activated when the ratio between the number of plane
waves treated by a processor and the ideal one is higher than
<em>pw_unbal_thresh</em> %.</p>
<hr />
<h2 id="use_gpu_cuda"><strong>use_gpu_cuda</strong><a class="headerlink" href="#use_gpu_cuda" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> activate USE of GPU accelerators with CUDA (nvidia)<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 1 if <a class="wikilink" href="../../input_variables/gstate/#optdriver">optdriver</a>==0 and <a class="wikilink" href="../../CUDA/">CUDA</a>,
0 otherwise.</p>
<p>Test list:</p>
<ul>
<li>gpu:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t01.in" title="GaAs phonons calculation - norm-conserving psp Test the automatic detection of the GPU and the automatic setting of use_gpu_cuda keyword according to the requested calculation. Ground-states calculations should be run with use_gpu_cuda activated (except if set to 0 in input file) while response fonction calculations should be run with use_gpu_cuda deactivated (at present : ABINIT v7.0).">tests/gpu/Input/t01.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t02.in" title="hcp iron - non magnetic - 2 atoms (metal) Test the use of GPU within Norm-Conserving PseupoPotential formalism. Test multidataset mode with different use_gpu_cuda values. paral_kgb is activated.">tests/gpu/Input/t02.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t03.in" title="NiO - LDA+U - fcc structure Test the use of GPU within Projector Augmented-Wave formalism. Test ferromagnetic and non-collinear magnetism. ABINIT v7.0: GPU is not used when nspinor=2">tests/gpu/Input/t03.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/gpu/Input/t05.in" title="NiO - LDA+U - fcc structure - anitferro - PAW Test the use of MPI+GPU">tests/gpu/Input/t05.in</a></li>
<li>v5:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/v5/Input/t75.in" title="Simple test for double grid (fine/coarse) system,  the cutting radius and the initial fermi energy in recursion method Corresponding variables: recgratio,  recrcut, recefermi respectively Corresponding code: 68_recursion Other test: paral/tT, v5/t76">tests/v5/Input/t75.in</a></li>
</ul>
<p>Only available if ABINIT executable has been compiled with cuda nvcc compiler.<br />
This parameter activates the use of NVidia graphic accelerators (GPU) if
present.<br />
If <a class="wikilink" href="../../input_variables/paral/#use_gpu_cuda">use_gpu_cuda</a> = 1, some parts of the computation are transmitted to the
GPUs.<br />
If <a class="wikilink" href="../../input_variables/paral/#use_gpu_cuda">use_gpu_cuda</a> = 0, no computation is done on GPUs, even if present.  </p>
<p>Note that, while running ABINIT on GPUs, it is recommended to use MAGMA
external library (i.e. Lapack on GPUs). The latter is activated during
compilation stage (see "configure" step of ABINIT compilation process). If
MAGMA is not used, ABINIT performances on GPUs can be poor.</p>
<hr />
<h2 id="use_slk"><strong>use_slk</strong><a class="headerlink" href="#use_slk" title="Permanent link">&para;</a></h2>
<p><em>Mnemonics:</em> USE ScaLapacK<br />
<em>Mentioned in topic(s):</em> <a class="wikilink" href="../../topics/parallelism">parallelism</a><br />
<em>Variable type:</em> integer<br />
<em>Dimensions:</em> scalar<br />
<em>Default value:</em> 0<br />
Test list:</p>
<ul>
<li>mpiio:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/mpiio/Input/t27.in" title="C-diamond,  Bulk,  2 atoms,  with NC pseudo generated with oncvps-3.2.3. Test the IO routines with paral_kgb in [1,  0] and different combinations of parameters (npfft,  npband,  npkpt). Test also prtdos (PJDOS) in parallel with MPI-FFT. Similar to t26.in">tests/mpiio/Input/t27.in</a></li>
<li>paral:  <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t24.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test the triple parallelisation. We cannot check the distribution npband*npfft*npkpt=2*2*2=8 processors, this number being not allowed in the test procedure. Here,  we only test the parallelisation over FFT and kpoints: npband*npfft*npkpt=1*2*2=4 processors. In test tY.in we check other distributions for guarantee.">tests/paral/Input/t24.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t25.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test the triple parallelisation. We cannot check the distribution npband*npfft*npkpt=2*2*2=8 processors, this number being not allowed in the test procedure. Here,  we only test the parallelisation over bands and spins: npband*npfft*npkpt=2*1*2=4 processors. In addition,  we also test here various features of bandfft-kpt parallelisation In particular,  the bandpp,  istwfk=2 and wfoptalg=14 variables.">tests/paral/Input/t25.in</a>, <a class="wikilink" data-placement="auto bottom" data-toggle="popover" data-trigger="hover" href="../../tests/paral/Input/t29.in" title="C-diamond,  Bulk,  2 atoms,  paral_kgb,  with PAW. Test MPI-FFT with 2 processors,  istwfk=2 and bandpp 2">tests/paral/Input/t29.in</a></li>
</ul>
<p>If set to 1, enable the use of ScaLapack within LOBPCG.</p>
<hr />
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
<hr>

    <center>Abinit version 8.5.4</center>


    <center>Copyright &copy; 2017 The Abinit Group</center>


<center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
    </div>
    
      <script src="../../assets/javascripts/application-6940329b9f.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.8/ace.js"></script>
      
        <script src="../../extra_javascript/abidocs.js"></script>
      
    
    
      
    
  </body>
</html>