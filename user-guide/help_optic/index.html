
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Abinit documentation">
      
      
        <link rel="canonical" href="http://www.abinit.org/user-guide/help_optic/">
      
      
        <meta name="author" content="The Abinit group">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>Optic - abinit</title>
      
    
    
    
      <script src="../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    <!-- <script src="../../js/somelib.js"></script> -->

    <!-- Jquery from Google CDN 
    -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


    <!-- Bootstrap http://getbootstrap.com/getting-started/ -->
    <!-- Latest compiled and minified CSS 
    -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme
    -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript
    -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- MathJax support -->
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <!--
    Configure MathJax to produce automatic equation numbers
    http://docs.mathjax.org/en/latest/tex.html
    -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          TeX: {
              equationNumbers: { autoNumber: "all" },
              extensions: ["AMSmath.js"],
              Macros: {
                  rr: "{\\bf r}",
                  GG: "{\\bf G}",
                  kk: "{\\bf k}",
                  qq: "{\\bf q}"
              }
          }
      });
    </script>

    <!-- See http://docs.mathjax.org/en/latest/start.html 
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        extensions: ["tex2jax.js", "MathMenu.js", "MathZoom.js"],
        jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>
    -->


    
      <link rel="stylesheet" href="../../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../css/codehilite.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="http://www.abinit.org" title="abinit" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  User Guide
                </span>
              
            
            Optic
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." title="Quick Start" class="md-tabs__link">
          Quick Start
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../help_what_ABINIT_does/" title="User Guide" class="md-tabs__link md-tabs__link--active">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../input_variables/varlist_abinit/" title="Input Variables" class="md-tabs__link">
          Input Variables
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../tutorials/welcome/" title="Tutorials" class="md-tabs__link">
          Tutorials
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../theory/theory_mbt/" title="Theory" class="md-tabs__link">
          Theory
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../about/release-notes/" title="About" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    abinit
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/abinit/abinit/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Quick Start
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Quick Start
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-3" type="checkbox" id="nav-1-3">
    
    <label class="md-nav__link" for="nav-1-3">
      Topics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-3">
        Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/crystal/" title="Crystalline Structure" class="md-nav__link">
      Crystalline Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../topics/kpoints/" title="K-points" class="md-nav__link">
      K-points
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../help_what_ABINIT_does/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../help_abinit/" title="Abinit" class="md-nav__link">
      Abinit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../help_mrgddb/" title="Mrgddb" class="md-nav__link">
      Mrgddb
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Optic
      </label>
    
    <a href="./" title="Optic" class="md-nav__link md-nav__link--active">
      Optic
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#146-introduction" title="1. Introduction" class="md-nav__link">
    1. Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#246-how-to-run-optic" title="2. How to run Optic ?" class="md-nav__link">
    2. How to run Optic ?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#346-optic-input-file-and-input-variables" title="3. Optic input file and input variables" class="md-nav__link">
    3. Optic input file and input variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#446-optic-output-files" title="4. Optic output files" class="md-nav__link">
    4. Optic output files
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-linear-optical-response-data-files" title="4.1. Linear optical response data files" class="md-nav__link">
    4.1. Linear optical response data files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-non-linear-optical-response-data-files" title="4.2. Non-linear optical response data files" class="md-nav__link">
    4.2. Non-linear optical response data files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#546-trouble-shooting" title="5. Trouble shooting" class="md-nav__link">
    5. Trouble shooting
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Input Variables
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Input Variables
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Abinit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Abinit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varlist_abinit/" title="All Variables" class="md-nav__link">
      All Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varbas/" title="Basic" class="md-nav__link">
      Basic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varbse/" title="Bethe-Salpeter" class="md-nav__link">
      Bethe-Salpeter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/vardev/" title="Developers" class="md-nav__link">
      Developers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/vardmft/" title="DMFT" class="md-nav__link">
      DMFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/vareph/" title="Electron-Phonon" class="md-nav__link">
      Electron-Phonon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varff/" title="Varff" class="md-nav__link">
      Varff
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varfil/" title="File-handling" class="md-nav__link">
      File-handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/vargeo/" title="Geometry" class="md-nav__link">
      Geometry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/vargs/" title="Ground-State" class="md-nav__link">
      Ground-State
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/vargw/" title="GW" class="md-nav__link">
      GW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varint/" title="Internal" class="md-nav__link">
      Internal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varpar/" title="Parallelism" class="md-nav__link">
      Parallelism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varpaw/" title="PAW" class="md-nav__link">
      PAW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varrf/" title="RF" class="md-nav__link">
      RF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varrlx/" title="Relaxation" class="md-nav__link">
      Relaxation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varvdw/" title="VdW" class="md-nav__link">
      VdW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../input_variables/varw90/" title="Wannier90" class="md-nav__link">
      Wannier90
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/welcome/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Base Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Base Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base1/" title="Base1" class="md-nav__link">
      Base1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base2/" title="Base2" class="md-nav__link">
      Base2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base3/" title="Base3" class="md-nav__link">
      Base3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/base4/" title="Base4" class="md-nav__link">
      Base4
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      DFPT
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        DFPT
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/rf1/" title="RF1" class="md-nav__link">
      RF1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/rf2/" title="RF2" class="md-nav__link">
      RF2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/elastic/" title="Elastic" class="md-nav__link">
      Elastic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/eph/" title="EPH" class="md-nav__link">
      EPH
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/dmft/" title="DMFT" class="md-nav__link">
      DMFT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Many-Body
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Many-Body
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/gw1/" title="GW1" class="md-nav__link">
      GW1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/gw2/" title="GW2" class="md-nav__link">
      GW2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/bse/" title="Bethe-Salpeter" class="md-nav__link">
      Bethe-Salpeter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6">
    
    <label class="md-nav__link" for="nav-4-6">
      Parallelism
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Parallelism
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/basepar/" title="Base" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/paral_mbt/" title="Many-Body" class="md-nav__link">
      Many-Body
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Theory
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Theory
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../theory/theory_mbt/" title="MBPT" class="md-nav__link">
      MBPT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../theory/additional_material/" title="Additional Material" class="md-nav__link">
      Additional Material
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../bibliography/" title="Bibliography" class="md-nav__link">
      Bibliography
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#146-introduction" title="1. Introduction" class="md-nav__link">
    1. Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#246-how-to-run-optic" title="2. How to run Optic ?" class="md-nav__link">
    2. How to run Optic ?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#346-optic-input-file-and-input-variables" title="3. Optic input file and input variables" class="md-nav__link">
    3. Optic input file and input variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#446-optic-output-files" title="4. Optic output files" class="md-nav__link">
    4. Optic output files
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-linear-optical-response-data-files" title="4.1. Linear optical response data files" class="md-nav__link">
    4.1. Linear optical response data files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-non-linear-optical-response-data-files" title="4.2. Non-linear optical response data files" class="md-nav__link">
    4.2. Non-linear optical response data files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#546-trouble-shooting" title="5. Trouble shooting" class="md-nav__link">
    5. Trouble shooting
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/abinit/abinit/edit/master/docs/user-guide/help_optic.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                  <h1>Optic</h1>
                
                <p>This file explains the i/o parameters needed for the calculation of the
frequency dependent linear optical dielectric function and second order
nonlinear optical susceptibility, in the RPA approximation (sum over states
using independent electronic states) thanks to the Optic utility of the ABINIT
package.</p>
<p>The user is advised to be familiar with the main <a class="wikilink" href="../../help_abinit/">help_abinit</a> before
reading the present file.</p>
<p>A knowledge of the computation of the linear response d/dk perturbation,
explained in the <a href="../help_respfn.html">ABINIT (respfn) help file</a>, is also
requested. Actually, a full understanding of the ABINIT treatment of
perturbation (respfn) should NOT be requested in order to use Optic, but with
the present ordering of the help files and tutorial, this is not obvious. In a
future version, the tutorials and help files will be reorder and modified.</p>
<p>It will be easier to discover the present file with the help of the tutorial (<a class="wikilink" href="../../lesson_optic/">lesson_optic</a>).<br />
It is worthwhile to print this help file, for ease of reading.</p>
<div class="toc">
<ul>
<li><a href="#146-introduction">1. Introduction</a></li>
<li><a href="#246-how-to-run-optic">2. How to run Optic ?</a></li>
<li><a href="#346-optic-input-file-and-input-variables">3. Optic input file and input variables</a></li>
<li><a href="#446-optic-output-files">4. Optic output files</a><ul>
<li><a href="#41-linear-optical-response-data-files">4.1. Linear optical response data files</a></li>
<li><a href="#42-non-linear-optical-response-data-files">4.2. Non-linear optical response data files</a></li>
</ul>
</li>
<li><a href="#546-trouble-shooting">5. Trouble shooting</a></li>
</ul>
</div>
<hr />
<h3 id="146-introduction"><strong>1. Introduction </strong><a class="headerlink" href="#146-introduction" title="Permanent link">&para;</a></h3>
<p>Optic allows to compute the frequency dependent linear optical dielectric
function and second order nonlinear optical susceptibility. An introduction to
such computations is given in the following paper :</p>
<ul>
<li>Ref. 1 : S. Sharma and C. Ambrosch-Draxl Physica Scripta T109, 128 (2004) or online: <a href="http://arxiv.org/abs/cond-mat/0305016">http://arxiv.org/abs/cond-mat/0305016</a></li>
</ul>
<p>The following are also very useful references :</p>
<ul>
<li>Ref. 2 : James L. P. Hughes and J. E. Sipe, Phys. Rev. B 53 10751 (1996) </li>
<li>Ref. 3 : C. Ambrosch-Draxl and J. O. Sofo, online: <a href="http://arxiv.org/abs/cond-mat/0402523">http://arxiv.org/abs/cond-mat/0402523</a></li>
<li>Ref. 4 : S. Sharma J. K. Dewhurst and C. Ambrosch-Draxl Phys. Rev. B 67 165332 (2003) or online: <a href="http://arxiv.org/abs/cond-mat/0211512">http://arxiv.org/abs/cond-mat/0211512</a></li>
</ul>
<p>Before going to the detailed explanation of the Optic utility, the user is
advised to get familiar to the theory behind it, explained in these
references. So, either you know this theory and you continue the tutorial, or
you should stop the tutorial here, and read at least Ref. 1.</p>
<p>The specific purpose of the Optic utility is to read in the position matrix
elements generated by ABINIT (also giving the momentum matrix elements), and
then use Eq. 46 in Ref. 1 to determine the linear and Eqs. 49, 50 and 51 in
Ref. 1 to determine the nonlinear optical response of the material under
investigation.</p>
<hr />
<h3 id="246-how-to-run-optic"><strong>2. How to run Optic ? </strong><a class="headerlink" href="#246-how-to-run-optic" title="Permanent link">&para;</a></h3>
<p>The use of Optic is quite simple :</p>
<div class="codehilite"><pre><span></span>    $ optic &lt; optic.files &gt; optic.log
</pre></div>


<p>where the optic.files file contains three information : the name of the input
file, the name of an output file (actually unused), and the root name for all
other output files. These input files will be described in the next section.</p>
<p>However, before being able to use Optic, you must have obtained, from the main
abinit program, four different files, corresponding to the physical system
that you want to study:</p>
<ul>
<li>The ground state wavefunction file, indexed with _WFK </li>
<li>Three files containing the matrix elements of the position operator (or the derivative with respect to wavevector), one for each direction of space</li>
</ul>
<p>Supposing you have read the <a href="../help_abinit.html"><strong>main ABINIT help file</strong></a>, the
production of the first file should not require any additional explanation.
However, the way to obtain the matrix elements is worth explaining.<br />
The long-wave method as well as the Berry-phase treatment of electric field,
allow to establish the equivalence between the off-diagonal matrix elements of
the position operator, and the off-diagonal matrix elements of the derivative
with respect to the wavevector (d/dk), for the periodic part of the Bloch
functions, see for example section VI of X. Gonze, Phys. Rev. B 55, 10337
(1997), or Nunes and Gonze, Phys. Rev. B 63, 155107 (2001), and references
therein. Moreover, a straightforward relationship exists between these matrix
elements, and the matrix elements of the momentum operator.</p>
<p>The main abinit program has the capability to compute derivatives of
wavefunctions with respect to their wavevector. This is explained in the
<a href="../help_respfn.html"><strong>ABINIT (respfn) help file</strong></a>. Such a calculation implies
treating three d/dk perturbations, with numbers 3<em>natom+1, 3</em>natom+2 and
3*natom+3 (that is, for a unit cell with 2 atoms, perturbations number 7, 8
and 9). In the 2-atom case, the associated files needed for Optic have the
index _1WF7 , _1WF8 , and _1WF9 .</p>
<p>The formalism implemented in Optic treats explicitly the eigenstates lying in
the range of energy between the lowest occupied wavefunction and the highest
one plus the maximal excitation energy (chosen by the user). All the other
ones are neglected. This has two important consequences for the preliminary
runs :</p>
<ul>
<li>The ground calculation must produce explicitly all the eigenstates and eigenvalues for that target range of energy, so it cannot be restricted to the occupied wavefunctions only</li>
<li>One does not need the full change of Bloch wavefunctions with respect to d/dk, but only the matrix elements between the wavefunctions of this range of energy</li>
</ul>
<p>Because of the latter, the computation of the response to d/dk perturbations
is much shorter than usual : indeed, the matrix elements between the
explicitly ground-state wavefunctions are computed at the very beginning of
the abinit(respfn) run. It is not worth to make a full calculation of the
modification of the wavefunctions due to a change of wavevector.</p>
<hr />
<h3 id="346-optic-input-file-and-input-variables"><strong>3. Optic input file and input variables </strong><a class="headerlink" href="#346-optic-input-file-and-input-variables" title="Permanent link">&para;</a></h3>
<p>A typical optic.files file is presented below :</p>
<div class="codehilite"><pre><span></span>    optic.in     ! Name of input file
    optic.out    ! Unused
    optic        ! Root name for all files that will be produced
</pre></div>


<p>Please note that the format of input files for Optic has changed from Abinit
v8.0 Since very few input parameters are required for Optic, the optic.in file
contains them with the namelist format. The order of the three parts, namely
FILES, PARAMETERS and COMPUTATIONS must be kept unaltered.</p>
<div class="codehilite"><pre><span></span>    &amp;FILES
     ddkfile_1 = &#39;toptic_1o_DS4_1WF7&#39;,
     ddkfile_2 = &#39;toptic_1o_DS5_1WF8&#39;,
     ddkfile_3 = &#39;toptic_1o_DS6_1WF9&#39;,
     wfkfile = &#39;toptic_1o_DS3_WFK&#39;
    /
    &amp;PARAMETERS
     broadening = 0.002,
     domega = 0.0003,
     maxomega = 0.3,
     scissor = 0.000,
     tolerance = 0.002
    /
    &amp;COMPUTATIONS
     num_lin_comp = 1,
     lin_comp = 11,
     num_nonlin_comp = 2,
     nonlin_comp = 123,222,
    /
</pre></div>


<hr />
<p>ddkfile_X : name of the ddk file on the direction X (no default)<br />
Variable type: string with the filename  </p>
<p>Specify the filename that has been produced by the preparatory Abinit run.
This file must contain the matrix elements of the d/dk operator along
direction X. It must not contain the first-order wavefunctions and may be
generated using prtwf 3.<br />
You should make sure that the number of bands, of spin channels and of
k-points are the same in all the files.  </p>
<p>Go to the top</p>
<hr />
<p>wfkfile : name of the wfk file (no default)<br />
Variable type: string with the filename  </p>
<p>Specify the filename that has been produced by the preparatory Abinit run.
This file must contain the eigenenergies on the set of k-points and bands to
be included in the calculation.<br />
You should make sure that the number of bands, of spin channels and of
k-points are the same in all the files.  </p>
<p>Go to the top</p>
<hr />
<p>broadening (default = 1.0d-3 Ha)<br />
Variable type: real parameter, given in Hartree  </p>
<p>In Eq. 46 of Ref. 1, it is clear that when ever wnm(k) is equal to w, there is
a resonance. Numerically this would lead to an infinity. In order to avoid
this one could do two things. You could change the sum over k-points to
integration and then use linear tetrahedron method (see Ref. 2 for details).
Another way to get around the problem is, like we do in the present case,
avoid this singularity by adding a small complex number to the denominator.
This prevents the denominator from ever going to 0 and acts as a broadening to
the spectrum. The broadening should not be too large as this would wash out
the features in the spectrum.  </p>
<p>Go to the top</p>
<hr />
<p>domega : Frequency grid step (default = 1.0d-3 Ha)<br />
Variable type: two real parameters, given in Hartree  </p>
<p>The step and maximum sets your energy grid for the calculation using the
formula number of energy mesh points=maximum/step (zero excluded). So in order
to capture more features you can decrease the step size to get a finer energy
grid. In order to go to higher frequency, increase the maximum.  </p>
<p>Go to the top</p>
<hr />
<p>maxomega : Maximum of frequency grid (default = 1 Ha)<br />
Variable type: two real parameters, given in Hartree  </p>
<p>The step and maximum sets your energy grid for the calculation using the
formula number of energy mesh points=maximum/step (zero excluded). So in order
to capture more features you can decrease the step size to get a finer energy
grid. In order to go to higher frequency, increase the maximum.  </p>
<p>Go to the top</p>
<hr />
<p>scissor : Scissors shift (default = 0.0 [ no scissor ])<br />
Variable type: real parameter, given in Hartree  </p>
<p>LDA/GGA are well known to underestimate the band-gap by up to 100%. In order
to get the optical spectrum and make a realistic comparison with experiments
one needs to correct for this. This can be achieved in two ways. The scissors
shift is normally chosen to be the difference between the experimental and
theoretical band-gap and is used to shift the conduction bands only. Another
way in which you do not have to rely on experimental data is to determine the
self energy using the <a href="../../../tutorial/generated_files/lesson_gw1.html">GW
approach</a>. In this case the
opening of the gap due to the GW correction can be used as scissor shift.  </p>
<p>Go to the top</p>
<hr />
<p>tolerance (default = 1.0d-3 Ha)<br />
Variable type: real parameter, given in Hartree  </p>
<p>When energy denominators are smaller than tolerance, the term is discarded
from the sum.  </p>
<p>Go to the top</p>
<hr />
<p>num_lin_comp: Number of components for linear response<br />
Variable type: integer  </p>
<p>How many components out of 9 of the linear optical dielectric tensor do you
want to calculate. Most of these are either equal or zero depending upon the
symmetry of the material (for detail see Ref. 3).<br />
Note that the directions are along the Cartesian axis.  </p>
<p>Go to the top</p>
<hr />
<p>lin_comp: Components of the linear response<br />
Variable type: integers(num_lin_comp)  </p>
<p>This tells which component of the dielectric tensor you want to calculate.
These numbers are called a and b Eqs. 46 in Ref. 1. 1 2 3 represent x y and z
respectively. For example 11 would be xx and 32 would mean zy.  </p>
<p>Go to the top</p>
<hr />
<p>num_nonlin_comp: Number of components for nonlinear response<br />
Variable type: integer  </p>
<p>How many components out of 27 of the non-linear optical dielectric tensor do
you want to calculate. Most of these are either equal or zero depending upon
the symmetry of the material (for detail see Ref. 3).<br />
Note that the directions are along the Cartesian axis.  </p>
<p>Go to the top</p>
<hr />
<p>nonlin_comp: Components of the nonlinear response<br />
Variable type: integers(num_nonlin_comp)  </p>
<p>This tells which component of the dielectric tensor you want to calculate.
These numbers are called a, b and c in Ref. 1. 1 2 3 represent x y and z
respectively. For example 111 would be xxx and 321 would mean zyx.  </p>
<p>Go to the top</p>
<hr />
<hr />
<h3 id="446-optic-output-files"><strong>4. Optic output files </strong><a class="headerlink" href="#446-optic-output-files" title="Permanent link">&para;</a></h3>
<h4 id="41-linear-optical-response-data-files"><strong>4.1. Linear optical response data files</strong><a class="headerlink" href="#41-linear-optical-response-data-files" title="Permanent link">&para;</a></h4>
<p>Name: case_a_b-linopt.out<br />
Contains the following 3 data sets</p>
<ul>
<li>1) Column 1 - energy(eV), column 2 - imaginary part of the ab component of the frequency dependent linear dielectric tensor.</li>
<li>2) Column 1 - energy(eV), column 2 - real part of the ab component of the frequency dependent linear dielectric tensor.</li>
<li>3) Column 1 - energy(eV), column 2 - absolute value of the ab component of the frequency dependent linear dielectric tensor.</li>
</ul>
<p>In the header of the file you can find information about the calculation. Some
results for GaAs(LiF???) are presented in this document to show what can be
expected.</p>
<h4 id="42-non-linear-optical-response-data-files"><strong>4.2. Non-linear optical response data files</strong><a class="headerlink" href="#42-non-linear-optical-response-data-files" title="Permanent link">&para;</a></h4>
<p>Name: case_a_b_c-ChiKIND1.out<br />
KIND1:This can be TotIm, TotRe or TotAbs<br />
Contains: column 1 - energy(eV), column 2 and 3 - imaginary (KIND1=TotIm),
real (KIND1=TotRe) or absolute (KIND1=TotAbs) value of the abc component of
the nonlinear optical susceptibility. Second column contains values in
electro-static units (esu) and third column contains values in the SI units.  </p>
<p>Name: case_a_b_c-ChiKIND2.out<br />
KIND2:This can be Im, Re or abs<br />
Contains: column 1 - energy(eV), column 2, 3 inter and column 4, 5 intra band
contributions to the imaginary (KIND2=Im), real (KIND2=Re) or absolute
(KIND2=Abs) value of the abc component of the nonlinear optical
susceptibility. These components are labeled as inter and intra in Eqs. 49-51
in Ref. 1.  </p>
<p>All the values are in electro-static units (esu). In the header of all the
above files you can find information about the calculation. Some results of
nonlinear optical spectrum for GaAs(LiF???) are presented in this document to
show what can be expected.</p>
<hr />
<h3 id="546-trouble-shooting"><strong>5. Trouble shooting </strong><a class="headerlink" href="#546-trouble-shooting" title="Permanent link">&para;</a></h3>
<p>1) All I get is zeros in my *-linopt.out file. Why?</p>
<p>There are several possibilities.<br />
Let us explore some of them here:</p>
<ul>
<li>(i) The component of the dielectric tensor that you are looking at could be zero due to symmetry of the crystal. Normally zz component is a good place to start. It is almost never zero. So check the file case__0003_0003-linopt.out.</li>
<li>(ii) If the components zz is zero this is more serious, if you are using the default input file t57.in then please check that on the line number 10 the second number is 33. If you are not using the default input file please calculate the 33 (or zz) component and make sure it is not zero.</li>
<li>(iii) If even zz component is zero then possibilities are endless maximum frequency on line number 6 of t57.in is too small, or the number of bands used for performing ground state calculation are too small.</li>
</ul>
<p>2) All I get is zeros in my *-ChiKIND.out file. Why?</p>
<p>Two most common mistakes are:</p>
<ul>
<li>(i) You are calculating the second order response for material with inversion symmetry in this case all the components will be correctly zero or very small like 10-15.</li>
<li>(ii) Most components out of the 27 are zero due to the symmetry of the crystal. Please calculate a different component.</li>
</ul>
<hr />
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
<hr>

    <center>Abinit version 8.5.4</center>


    <center>Copyright &copy; 2017 The Abinit Group</center>


<center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
    </div>
    
      <script src="../../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.8/ace.js"></script>
      
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
      
        <script src="../../extra_javascript/abidocs.js"></script>
      
    
    
      
    
  </body>
</html>